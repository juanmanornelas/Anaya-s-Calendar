<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anaya's Schedule</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=Bricolage+Grotesque:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#f0f4f8;--bg2:#fff;--bg3:#f7f9fc;--bg4:#e8eef5;
  --border:#dde3ec;--border2:#c8d2e0;
  --text:#1a2236;--text2:#4a5878;--text3:#8a96aa;
  --accent:#e07b1a;--accent2:#f59332;--accent-dim:rgba(224,123,26,.10);
  --blue:#2563eb;--blue2:#1d4ed8;--blue-dim:rgba(37,99,235,.10);
  --green:#16a34a;--green-dim:rgba(22,163,74,.10);
  --red:#dc2626;--red-dim:rgba(220,38,38,.10);
  --yellow:#d97706;--yellow-dim:rgba(217,119,6,.10);
  --purple:#7c3aed;--purple-dim:rgba(124,58,237,.10);
  --r:8px;--r2:12px;
  --sh:0 2px 16px rgba(30,50,90,.10);--sh2:0 4px 24px rgba(30,50,90,.15);
}
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'Bricolage Grotesque',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;font-size:14px;}
::-webkit-scrollbar{width:6px;height:6px;}
::-webkit-scrollbar-track{background:var(--bg4);}
::-webkit-scrollbar-thumb{background:var(--border2);border-radius:3px;}

/* LOGIN */
.login-wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#e8f0fe,#f0f4f8 50%,#fff3e8);position:relative;}
.login-box{width:420px;background:var(--bg2);border:1px solid var(--border);border-radius:20px;padding:40px;box-shadow:var(--sh2);}
.login-logo-wrap{display:flex;justify-content:center;margin-bottom:14px;}
.login-logo-img{height:76px;width:auto;object-fit:contain;}
.login-title{
  font-size:48px;font-weight:900;color:#f59e0b;text-align:center;margin-bottom:2px;
  letter-spacing:-1px;line-height:1;
  text-shadow:-3px -3px 0 #111, 3px -3px 0 #111, -3px 3px 0 #111, 3px 3px 0 #111,
              -3px 0 0 #111, 3px 0 0 #111, 0 -3px 0 #111, 0 3px 0 #111,
              -2px -2px 0 #111, 2px -2px 0 #111, -2px 2px 0 #111, 2px 2px 0 #111;
  font-family:'Arial Black','Arial',sans-serif;
}
.login-sub{color:var(--text2);margin-bottom:22px;font-size:13px;text-align:center;}
.login-label{display:block;font-size:11px;font-weight:700;color:var(--text2);text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px;}
.login-input{width:100%;background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);padding:10px 14px;color:var(--text);font-family:inherit;font-size:14px;outline:none;transition:border-color .2s;margin-bottom:14px;}
.login-input:focus{border-color:var(--blue);}
.login-btn{width:100%;background:var(--blue);color:#fff;border:none;border-radius:var(--r);padding:12px;font-family:inherit;font-size:15px;font-weight:700;cursor:pointer;transition:background .2s;}
.login-btn:hover{background:var(--blue2);}
.login-error{color:var(--red);font-size:13px;margin-bottom:12px;background:var(--red-dim);border-radius:var(--r);padding:8px 12px;}
.login-version{position:fixed;bottom:12px;right:16px;font-size:11px;color:var(--text3);font-family:'DM Mono',monospace;opacity:.6;}
.lang-float-btn{
  position:fixed;bottom:20px;left:20px;z-index:9999;
  background:rgba(37,99,235,0.92);color:#fff;
  border:2px solid rgba(255,255,255,0.25);
  border-radius:24px;padding:8px 16px;
  font-family:inherit;font-size:13px;font-weight:700;
  cursor:pointer;box-shadow:0 4px 16px rgba(37,99,235,.4);
  transition:all .2s;backdrop-filter:blur(4px);
}
.lang-float-btn:hover{background:rgba(29,78,216,0.95);transform:translateY(-2px);box-shadow:0 6px 20px rgba(37,99,235,.5);}
.login-fp-link{text-align:center;margin-top:14px;font-size:12px;color:var(--blue);cursor:pointer;text-decoration:underline;}
.login-fp-link:hover{color:var(--blue2);}

/* FORGOT PASSWORD STEPS */
.fp-step{background:var(--bg3);border:1px solid var(--border);border-radius:var(--r2);padding:16px;margin-bottom:14px;}
.fp-step-label{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--text3);margin-bottom:8px;}
.fp-back{font-size:12px;color:var(--blue);cursor:pointer;text-align:center;margin-top:12px;text-decoration:underline;}

/* APP */
.app{display:flex;flex-direction:column;min-height:100vh;}
.navbar{display:flex;align-items:center;background:var(--blue);padding:0 16px;height:54px;position:sticky;top:0;z-index:100;gap:4px;box-shadow:0 2px 8px rgba(37,99,235,.25);}
.nav-logo{font-size:17px;font-weight:800;letter-spacing:-.5px;margin-right:16px;white-space:nowrap;display:flex;align-items:center;gap:8px;}
.nav-logo-img{height:32px;width:auto;object-fit:contain;border-radius:6px;}
.nav-logo-brand{color:var(--accent2);font-family:'Bricolage Grotesque',sans-serif;font-weight:800;}
.nav-logo-sub{color:rgba(255,255,255,.7);font-family:'Bricolage Grotesque',sans-serif;font-weight:500;font-size:13px;}
.nav-links{display:flex;gap:2px;flex:1;}
.nav-link{padding:6px 12px;border-radius:var(--r);color:rgba(255,255,255,.75);font-size:13px;font-weight:600;cursor:pointer;transition:all .15s;white-space:nowrap;border:none;background:none;font-family:inherit;}
.nav-link:hover{background:rgba(255,255,255,.15);color:#fff;}
.nav-link.active{background:rgba(255,255,255,.2);color:#fff;}
.nav-user{display:flex;align-items:center;gap:8px;margin-left:auto;}
.nav-name{color:rgba(255,255,255,.85);font-size:13px;font-weight:600;}
.nav-role-badge{font-size:10px;font-weight:700;padding:3px 8px;border-radius:20px;text-transform:uppercase;letter-spacing:.5px;}
.nav-role-badge.admin{background:var(--accent-dim);color:var(--accent2);border:1px solid rgba(224,123,26,.3);}
.nav-role-badge.worker{background:rgba(255,255,255,.15);color:#fff;}
.nav-btn{background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.3);border-radius:var(--r);padding:5px 10px;color:#fff;font-family:inherit;font-size:12px;cursor:pointer;transition:all .15s;white-space:nowrap;}
.nav-btn:hover{background:rgba(255,255,255,.25);}

/* MAIN */
.main{flex:1;display:flex;overflow:hidden;}

/* SIDEBAR â€” Projects (admin) */
.sidebar{width:210px;min-width:210px;background:var(--bg2);border-right:1px solid var(--border);display:flex;flex-direction:column;overflow:hidden;box-shadow:2px 0 8px rgba(30,50,90,.06);}
.sidebar-header{padding:14px;border-bottom:1px solid var(--border);background:var(--bg3);}
.sidebar-title{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--text3);}
.sidebar-count{font-size:20px;font-weight:800;color:var(--text);line-height:1;margin-top:2px;}
.sidebar-count span{color:var(--blue);}
.sidebar-list{flex:1;overflow-y:auto;padding:8px;display:flex;flex-direction:column;gap:5px;}
.drag-card{border:1px solid var(--border);border-radius:var(--r);padding:9px 10px;cursor:grab;transition:all .15s;user-select:none;position:relative;}
.drag-card:hover{transform:translateY(-1px);box-shadow:0 3px 10px rgba(0,0,0,.15);}
.drag-card.dragging{opacity:.4;cursor:grabbing;}
.drag-card-name{font-size:12px;font-weight:700;color:var(--text);}
.drag-card-addr{font-size:10px;color:var(--text3);margin-top:1px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.drag-card-hrs{font-family:'DM Mono',monospace;font-size:11px;color:var(--text3);margin-top:3px;}
.drag-card-hrs.over{color:var(--yellow);}

/* STAGE PILLS */
.stage-pill{font-size:10px;font-weight:700;padding:2px 8px;border-radius:20px;text-transform:uppercase;letter-spacing:.3px;white-space:nowrap;}

/* SCHEDULE */
.schedule-area{flex:1;display:flex;flex-direction:column;overflow:hidden;}
.schedule-toolbar{display:flex;align-items:center;gap:10px;padding:10px 14px;border-bottom:1px solid var(--border);background:var(--bg2);flex-wrap:wrap;}
.week-nav{display:flex;align-items:center;gap:6px;}
.week-btn{background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);width:30px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text2);font-size:16px;transition:all .15s;}
.week-btn:hover{border-color:var(--blue);color:var(--blue);}
.week-label{font-size:13px;font-weight:700;color:var(--text);min-width:170px;text-align:center;}
.today-btn{background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);padding:0 12px;height:30px;font-family:inherit;font-size:12px;font-weight:600;color:var(--text2);cursor:pointer;transition:all .15s;}
.today-btn:hover{border-color:var(--blue);color:var(--blue);}

/* GRID */
.grid-wrap{flex:1;overflow:auto;padding:10px;}
.grid-table{min-width:800px;width:100%;border-collapse:separate;border-spacing:0;}
.grid-th{background:var(--blue);padding:8px 10px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:rgba(255,255,255,.85);text-align:center;border-bottom:2px solid var(--blue2);position:sticky;top:0;z-index:10;white-space:nowrap;}
.grid-th.today-col{color:var(--accent2);background:var(--blue2);}
.grid-th-project{text-align:left;min-width:210px;width:210px;background:var(--blue);position:sticky;left:0;z-index:11;}
.project-row-label{padding:0;border-right:1px solid var(--border);border-bottom:1px solid var(--border);background:var(--bg2);vertical-align:top;position:sticky;left:0;z-index:5;min-width:210px;width:210px;}
.project-label-inner{padding:10px 12px;}
.project-name{font-size:13px;font-weight:800;color:var(--text);line-height:1.2;}
.project-addr{font-size:11px;color:var(--text2);margin-top:2px;}
.project-summary{font-size:11px;color:var(--text3);margin-top:3px;font-style:italic;}
.project-meta{display:flex;align-items:center;gap:5px;margin-top:6px;flex-wrap:wrap;}
.project-badge{font-family:'DM Mono',monospace;font-size:10px;color:var(--text3);}

/* DAY CELLS */
.day-cell{border-right:1px solid var(--border);border-bottom:1px solid var(--border);vertical-align:top;min-height:70px;padding:5px;background:var(--bg2);transition:background .15s;cursor:default;position:relative;min-width:100px;}
.day-cell.today-col{background:#fffbf5;}
.day-cell.drag-over{background:var(--blue-dim);outline:2px dashed var(--blue);outline-offset:-2px;}
.day-hours-total{font-family:'DM Mono',monospace;font-size:10px;color:var(--text3);margin-bottom:3px;}
.drop-hint{font-size:10px;color:var(--text3);text-align:center;padding:6px 4px;border:1px dashed var(--border2);border-radius:6px;margin-top:2px;opacity:0;transition:opacity .2s;pointer-events:none;}
.day-cell:hover .drop-hint{opacity:1;}
.day-cell.drag-over .drop-hint{opacity:1;color:var(--blue);border-color:var(--blue);}

/* ASSIGN BLOCKS */
.assign-block{border-radius:6px;padding:5px 7px;margin-bottom:3px;cursor:pointer;transition:all .15s;border:1px solid rgba(0,0,0,.12);}
.assign-block:hover{filter:brightness(.93);box-shadow:0 2px 6px rgba(0,0,0,.15);}
.assign-block.dragging{opacity:.4;}
.assign-worker-name{font-size:11px;font-weight:700;line-height:1.2;}
.assign-meta{display:flex;align-items:center;justify-content:space-between;margin-top:3px;}
.assign-hours{font-family:'DM Mono',monospace;font-size:10px;color:var(--text2);}
.assign-task-tag{font-size:9px;font-weight:700;color:var(--accent);max-width:60px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}

/* TASK DROPDOWN */
.task-section{border:1px solid var(--border);border-radius:var(--r);overflow:hidden;margin-top:6px;}
.task-section-hdr{display:flex;align-items:center;justify-content:space-between;padding:9px 12px;background:var(--bg3);cursor:pointer;user-select:none;}
.task-section-title{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--text2);}
.task-arrow{font-size:10px;color:var(--text3);transition:transform .2s;}
.task-arrow.open{transform:rotate(90deg);}
.task-body{padding:10px 12px;background:var(--bg2);}
.task-select{width:100%;background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);padding:9px 12px;color:var(--text);font-family:inherit;font-size:14px;outline:none;cursor:pointer;}
.task-select:focus{border-color:var(--blue);}
.task-readonly{background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);padding:9px 12px;font-size:14px;color:var(--text);}
.task-none{font-size:12px;color:var(--text3);font-style:italic;}
.task-mgr-item{display:flex;align-items:center;gap:6px;padding:6px 8px;background:var(--bg3);border:1px solid var(--border);border-radius:6px;margin-bottom:4px;}
.task-mgr-name{flex:1;font-size:13px;color:var(--text);}
.task-del-btn{background:none;border:none;color:var(--text3);cursor:pointer;font-size:16px;padding:0;line-height:1;transition:color .15s;}
.task-del-btn:hover{color:var(--red);}
.task-add-row{display:flex;gap:6px;margin-top:6px;}
.task-add-input{flex:1;background:var(--bg3);border:1px solid var(--border);border-radius:6px;padding:7px 10px;color:var(--text);font-family:inherit;font-size:13px;outline:none;}
.task-add-input:focus{border-color:var(--blue);}
.task-add-btn{background:var(--blue);color:#fff;border:none;border-radius:6px;padding:7px 12px;font-family:inherit;font-size:12px;font-weight:700;cursor:pointer;}
.task-add-btn:hover{background:var(--blue2);}

/* WORKER CHECKLIST in assignment modal */
.worker-checklist{display:flex;flex-direction:column;gap:4px;max-height:180px;overflow-y:auto;margin-top:6px;}
.worker-check-item{display:flex;align-items:center;gap:8px;padding:7px 10px;background:var(--bg3);border:1px solid var(--border);border-radius:6px;cursor:pointer;transition:all .15s;}
.worker-check-item:hover{border-color:var(--blue);}
.worker-check-item.checked{background:var(--blue-dim);border-color:rgba(37,99,235,.3);}
.worker-check-item input[type=checkbox]{accent-color:var(--blue);width:15px;height:15px;cursor:pointer;}
.worker-check-name{font-size:13px;font-weight:600;color:var(--text);}
.worker-task-sel{font-size:12px;background:var(--bg2);border:1px solid var(--border);border-radius:5px;padding:3px 7px;color:var(--text);font-family:inherit;outline:none;margin-left:auto;}
.worker-task-sel:focus{border-color:var(--blue);}

/* PAGES */
.page{padding:22px;overflow-y:auto;flex:1;}
.page-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:22px;flex-wrap:wrap;gap:10px;}
.page-title{font-size:21px;font-weight:800;letter-spacing:-.5px;}
.btn{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:var(--r);font-family:inherit;font-size:13px;font-weight:600;cursor:pointer;transition:all .15s;border:1px solid transparent;}
.btn-primary{background:var(--blue);color:#fff;border-color:var(--blue);}
.btn-primary:hover{background:var(--blue2);}
.btn-ghost{background:var(--bg3);color:var(--text2);border-color:var(--border);}
.btn-ghost:hover{border-color:var(--blue);color:var(--blue);}
.btn-danger{background:var(--red-dim);color:var(--red);border-color:var(--red);}
.btn-danger:hover{background:var(--red);color:#fff;}
.btn-sm{padding:5px 10px;font-size:12px;}
.btn-green{background:var(--green);color:#fff;border-color:var(--green);}
.btn-green:hover{filter:brightness(0.9);}

.card{background:var(--bg2);border:1px solid var(--border);border-radius:var(--r2);overflow:hidden;box-shadow:0 1px 6px rgba(30,50,90,.07);}
.table{width:100%;border-collapse:collapse;}
.table th{padding:11px 14px;text-align:left;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--text3);border-bottom:1px solid var(--border);background:var(--bg3);}
.table td{padding:11px 14px;border-bottom:1px solid var(--border);font-size:13px;color:var(--text);vertical-align:middle;}
.table tr:last-child td{border-bottom:none;}
.table tr:hover td{background:var(--bg3);}
.mono{font-family:'DM Mono',monospace;font-size:12px;}
.progress-bar{height:5px;background:var(--bg4);border-radius:3px;overflow:hidden;}
.progress-fill{height:100%;background:var(--accent);border-radius:3px;transition:width .3s;}
.progress-fill.done{background:var(--green);}
.empty-state{text-align:center;padding:56px 20px;color:var(--text3);}
.empty-icon{font-size:38px;margin-bottom:12px;}
.empty-text{font-size:15px;font-weight:600;color:var(--text2);margin-bottom:4px;}
.empty-sub{font-size:13px;}
.tag{font-size:10px;font-weight:700;padding:2px 7px;border-radius:20px;background:var(--bg4);color:var(--text2);text-transform:uppercase;letter-spacing:.3px;}
.info-box{background:var(--blue-dim);border:1px solid rgba(37,99,235,.2);border-radius:var(--r);padding:10px 14px;font-size:13px;color:var(--text2);margin-bottom:14px;}

/* MODAL */
.modal-overlay{position:fixed;inset:0;background:rgba(30,50,90,.45);backdrop-filter:blur(4px);z-index:1000;display:flex;align-items:center;justify-content:center;padding:20px;}
.modal{background:var(--bg2);border:1px solid var(--border);border-radius:16px;width:100%;max-width:500px;box-shadow:var(--sh2);animation:modal-in .2s ease;max-height:90vh;overflow-y:auto;}
@keyframes modal-in{from{transform:scale(.95) translateY(10px);opacity:0;}to{transform:scale(1) translateY(0);opacity:1;}}
.modal-header{display:flex;align-items:center;justify-content:space-between;padding:20px 22px 0;}
.modal-title{font-size:17px;font-weight:800;}
.modal-close{background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);width:30px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text2);font-size:18px;transition:all .15s;}
.modal-close:hover{border-color:var(--red);color:var(--red);}
.modal-body{padding:18px 22px;}
.modal-footer{display:flex;gap:8px;justify-content:flex-end;padding:0 22px 18px;}

/* FORM */
.form-group{margin-bottom:14px;}
.form-label{display:block;font-size:11px;font-weight:700;color:var(--text2);text-transform:uppercase;letter-spacing:.5px;margin-bottom:5px;}
.form-input{width:100%;background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);padding:9px 12px;color:var(--text);font-family:inherit;font-size:14px;outline:none;transition:border-color .2s;}
.form-input:focus{border-color:var(--blue);}
.form-select{width:100%;background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);padding:9px 12px;color:var(--text);font-family:inherit;font-size:14px;outline:none;cursor:pointer;}
.form-select:focus{border-color:var(--blue);}
.form-textarea{width:100%;background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);padding:9px 12px;color:var(--text);font-family:inherit;font-size:14px;outline:none;transition:border-color .2s;resize:vertical;min-height:72px;}
.form-textarea:focus{border-color:var(--blue);}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:10px;}
.form-hint{font-size:11px;color:var(--text3);margin-top:4px;}

/* COLOR PICKER for jobs */
.job-color-row{display:flex;gap:6px;flex-wrap:wrap;margin-top:4px;}
.job-color-swatch{width:24px;height:24px;border-radius:50%;cursor:pointer;border:3px solid transparent;transition:transform .1s;flex-shrink:0;}
.job-color-swatch:hover{transform:scale(1.2);}
.job-color-swatch.selected{border-color:var(--text);}

/* TOAST */
.toast-container{position:fixed;bottom:22px;right:22px;z-index:2000;display:flex;flex-direction:column;gap:7px;}
.toast{background:var(--bg2);border:1px solid var(--border);border-radius:var(--r2);padding:11px 15px;min-width:220px;box-shadow:var(--sh2);display:flex;align-items:center;gap:9px;font-size:13px;font-weight:600;color:var(--text);animation:toast-in .3s ease;}
.toast.success{border-left:4px solid var(--green);}
.toast.error{border-left:4px solid var(--red);}
@keyframes toast-in{from{transform:translateX(100%);opacity:0;}to{transform:translateX(0);opacity:1;}}
.confirm-msg{color:var(--text2);font-size:14px;line-height:1.6;}

/* DETAIL STATS */
.detail-stat{background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);padding:12px 14px;}
.detail-stat-label{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--text3);margin-bottom:3px;}
.detail-stat-value{font-size:20px;font-weight:800;font-family:'DM Mono',monospace;color:var(--text);}
.detail-stat-value.accent{color:var(--accent);}

/* STAGE MANAGER */
.stage-chip{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;border-radius:20px;font-size:12px;font-weight:700;margin:3px;border:1px solid;}
.stage-chip-del{background:none;border:none;cursor:pointer;font-size:14px;line-height:1;padding:0 0 0 2px;opacity:.6;}
.stage-chip-del:hover{opacity:1;}
.color-row{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px;}
.color-swatch{width:24px;height:24px;border-radius:50%;cursor:pointer;border:2px solid transparent;transition:transform .1s;}
.color-swatch:hover{transform:scale(1.2);}
.color-swatch.selected{border-color:var(--text);}

/* IMPORT/EXPORT PANEL - subtler */
.ie-panel{background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);padding:10px 14px;margin-bottom:16px;display:flex;align-items:center;gap:10px;flex-wrap:wrap;}
.ie-panel-title{font-size:12px;font-weight:700;color:var(--text3);white-space:nowrap;}
.ie-row{display:flex;gap:6px;align-items:center;}

/* WORKERS PAGE - admin section at top */
.admin-section-hdr{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.8px;color:var(--accent);margin-bottom:8px;margin-top:0;padding-bottom:6px;border-bottom:2px solid var(--accent-dim);}
.workers-section-hdr{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.8px;color:var(--text3);margin-bottom:8px;margin-top:20px;padding-bottom:6px;border-bottom:2px solid var(--border);}

@media(max-width:768px){
  .sidebar{display:none;}
  .navbar{padding:0 10px;}
  .nav-link{padding:5px 8px;font-size:12px;}
  .page{padding:14px;}
  .form-row{grid-template-columns:1fr;}
  .grid-th-project,.project-row-label{min-width:140px;width:140px;}
  .day-cell{min-width:80px;}
  .week-label{font-size:12px;min-width:130px;}
  .modal{margin:0 8px;}
}


/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SCHEDULER LAYOUT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.sched-layout{display:flex;flex:1;overflow:hidden;}

/* â”€â”€ Project Sidebar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.proj-sidebar{
  width:195px;min-width:195px;flex-shrink:0;
  background:var(--bg2);border-right:1px solid var(--border);
  overflow-y:auto;padding:8px;
  display:flex;flex-direction:column;gap:5px;
}
.proj-sidebar-hdr{
  font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:1px;
  color:var(--text3);padding:4px 4px 8px;border-bottom:1px solid var(--border);
  margin-bottom:4px;
}
.proj-card{
  background:var(--bg3);border:1px solid var(--border);border-radius:var(--r);
  padding:8px 10px;border-left-width:4px!important;
  transition:transform .12s,box-shadow .12s;
  user-select:none;
}
.proj-card:hover{transform:translateY(-1px);box-shadow:var(--sh);}
.proj-card-dragging{opacity:.45;transform:rotate(1deg);}
.proj-card-name{font-size:12px;font-weight:800;line-height:1.2;word-break:break-word;}
.proj-card-addr{font-size:10px;color:var(--text3);margin-top:2px;}
.proj-card-meta{font-family:"DM Mono",monospace;font-size:9px;color:var(--text3);}
.proj-card-summary{font-size:10px;color:var(--text3);font-style:italic;margin-top:4px;line-height:1.4;}

/* â”€â”€ Schedule Area â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.schedule-area{flex:1;display:flex;flex-direction:column;overflow:hidden;}

/* â”€â”€ Calendar Grid Wrapper â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.cal-grid-wrap{flex:1;overflow:auto;padding:0;}

/* â”€â”€ Calendar Table â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.cal-table{
  width:100%;border-collapse:collapse;table-layout:fixed;
  min-width:560px;
}
.cal-th{
  background:var(--blue);color:rgba(255,255,255,.9);
  padding:8px 6px;font-size:11px;font-weight:700;
  text-transform:uppercase;letter-spacing:.7px;text-align:center;
  border:none;border-bottom:2px solid var(--blue2);
  position:sticky;top:0;z-index:10;
}

/* â”€â”€ Calendar Week Row â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.cal-week-row{}

/* â”€â”€ Calendar Cell â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.cal-cell{
  border:1px solid var(--border);
  padding:4px 3px 3px;
  vertical-align:top;
  min-height:110px;
  height:110px;
  background:var(--bg2);
  transition:background .1s;
  overflow:visible;  /* let blocks breathe */
  position:relative;
}
.cal-cell:hover{background:#f6f9ff;}
.cal-today{background:#fffcf5!important;}
.cal-other-month{background:var(--bg3);}
.cal-other-month .cal-date-num{color:var(--border2);}
.cal-drag-over{
  background:var(--blue-dim)!important;
  outline:2px dashed var(--blue);
  outline-offset:-2px;
}

/* â”€â”€ Date Number â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.cal-date-num{
  font-size:12px;font-weight:600;color:var(--text3);
  width:22px;height:22px;display:flex;align-items:center;
  justify-content:center;border-radius:50%;margin-bottom:2px;
  flex-shrink:0;
}
.cal-date-today{
  background:var(--blue);color:#fff;font-weight:800;
}

/* â”€â”€ Schedule Block â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.cal-block{
  background:var(--block-color,#1d4ed8);
  color:#fff;
  margin-bottom:2px;
  padding:3px 6px 3px 6px;
  cursor:pointer;
  transition:filter .12s,transform .1s;
  position:relative;
  overflow:visible;
  border-radius:0;  /* flat by default â€” edges get radius */
  min-height:20px;
}
/* First day of block: left rounded */
.cal-block-first{
  border-top-left-radius:5px;
  border-bottom-left-radius:5px;
  margin-left:1px;
}
/* Last day of block: right rounded */
.cal-block-last{
  border-top-right-radius:5px;
  border-bottom-right-radius:5px;
  margin-right:1px;
}
/* Single-day block: fully rounded */
.cal-block-first.cal-block-last{
  border-radius:5px;
  margin:0 1px;
}
.cal-block:hover{filter:brightness(.88);transform:translateY(-1px);}

/* â”€â”€ Block Header (job name + stage, first day only) â”€â”€â”€â”€â”€â”€â”€ */
.cal-block-header{
  display:flex;align-items:baseline;gap:4px;
  margin-bottom:2px;
  flex-wrap:nowrap;
  overflow:hidden;
}
.cal-block-name{
  font-size:11px;font-weight:800;color:#fff;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
  flex:1;min-width:0;
  text-shadow:0 1px 2px rgba(0,0,0,.25);
}
.cal-block-stage{
  font-size:9px;font-weight:700;
  background:rgba(255,255,255,.25);
  padding:1px 5px;border-radius:20px;
  white-space:nowrap;flex-shrink:0;
  text-transform:uppercase;letter-spacing:.3px;
}

/* â”€â”€ Worker rows inside block â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.cal-block-workers{
  display:flex;flex-direction:column;gap:1px;
}
.cal-worker-row{
  display:flex;align-items:center;gap:4px;
  min-width:0;
}
.cal-worker-dot{
  width:7px;height:7px;border-radius:50%;
  flex-shrink:0;display:inline-block;
  border:1px solid rgba(255,255,255,.4);
}
.cal-worker-name{
  font-size:11px;font-weight:600;color:#fff;
  white-space:nowrap;
  overflow:hidden;text-overflow:ellipsis;
  text-shadow:0 1px 2px rgba(0,0,0,.3);
  flex:1;min-width:0;
  line-height:1.3;
}

/* â”€â”€ Drop Hint â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.cal-drop-hint{
  font-size:18px;color:var(--border2);
  text-align:center;padding-top:18px;
  opacity:0;transition:opacity .15s;pointer-events:none;
}
/* Task chip on calendar */
.cal-task-chip{
  font-size:9px;font-weight:700;
  background:rgba(124,58,237,0.85);
  color:#fff;
  padding:1px 5px;border-radius:20px;
  white-space:nowrap;flex-shrink:0;
  max-width:80px;overflow:hidden;text-overflow:ellipsis;
  margin-left:2px;
}
.cal-cell:hover .cal-drop-hint{opacity:0.5;}
.cal-drag-over .cal-drop-hint{opacity:1!important;color:var(--blue);}

/* Language toggle button */
.lang-btn{font-size:12px!important;}

/* â”€â”€ Responsive â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
@media(max-width:900px){
  .proj-sidebar{width:150px;min-width:150px;}
  .cal-worker-name{font-size:10px;}
  .cal-block-name{font-size:10px;}
}
@media(max-width:640px){
  .proj-sidebar{display:none;}
  .cal-cell{height:80px;min-height:80px;}
}

</style>
</head>
<body>
<div id="root"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script>
const {useState,useEffect,useCallback,useMemo,useRef}=React;

const APP_VERSION='v2.1.0';

// â”€â”€ CLOUD SYNC CONFIG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Set this to your sync server URL (see sync-server.js in your GitHub repo)
// e.g. 'https://your-server.railway.app' or 'http://localhost:3000'
// Leave as '' to disable cloud sync (use local only)
// â†“â†“â†“ PASTE YOUR RAILWAY URL HERE â€” e.g. 'https://anaya-s-calendar-production.up.railway.app'
const SYNC_SERVER_URL = '';  // leave empty string = cloud sync disabled
const SYNC_KEY = 'anaya_sched_v2'; // matches localStorage key

async function cloudSave(data){
  if(!SYNC_SERVER_URL) return {ok:false,reason:'NO_SERVER'};
  try{
    const r=await fetch(SYNC_SERVER_URL+'/save',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({key:SYNC_KEY,data})
    });
    return r.ok?{ok:true}:{ok:false,reason:'Server error '+r.status};
  }catch(e){return {ok:false,reason:e.message};}
}
async function cloudLoad(){
  if(!SYNC_SERVER_URL) return {ok:false,reason:'NO_SERVER'};
  try{
    const r=await fetch(SYNC_SERVER_URL+'/load?key='+SYNC_KEY);
    if(!r.ok) return {ok:false,reason:'Server error '+r.status};
    const j=await r.json();
    return j.data?{ok:true,data:j.data}:{ok:false,reason:'No data saved yet'};
  }catch(e){return {ok:false,reason:e.message};}
}

// â”€â”€ TRANSLATIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const T={
  en:{
    schedule:'Schedule',jobs:'Jobs',workers:'Workers',stages:'Stages',
    signOut:'Sign Out',signIn:'Sign In',username:'Username',password:'Password',
    forgotPw:'Forgot password?',today:'Today',
    newJob:'+ New Job',editJob:'Edit Job',addWorker:'+ Add Worker',addAdmin:'+ Add Admin',
    projectName:'Project Name',address:'Address',customer:'Customer',stage:'Stage',
    estDays:'Estimated Days',sqft:'Square Footage',summary:'Project Summary',
    calColor:'Calendar Color',estimateRef:'Estimate Reference # (Admin Only)',
    save:'Save',cancel:'Cancel',done:'Done',create:'Create',delete:'Delete',edit:'Edit',
    remove:'Remove',close:'Close',
    noJobs:'No jobs yet',noWorkers:'No workers yet',createFirst:'Create your first job to get started',
    activeJobs:'active jobs',dragHint:'â˜ï¸ Drag onto calendar:',
    assignWorkers:'Assign Workers',noAssigned:'No workers assigned on this day',
    assignedWorkers:'Assigned Workers',
    estDaysLabel:'Est. Days',sqftLabel:'Square Footage',tasksLabel:'Tasks',
    plannedHours:'Planned Hours',adminNotes:'Admin Notes',assignedTask:'Assigned Task',
    noTasksSet:'No tasks set for this job yet',noTaskAssigned:'No task assigned yet',
    noNotesFromAdmin:'No notes from admin',
    manageStages:'Manage Stages',stageName:'Stage Name',newStagePlaceholder:'e.g. Caulking, Staining',
    addStage:'+ Add Stage',noStages:'No stages',
    adminAccounts:'ğŸ” Admin Accounts',employees:'ğŸ‘· Employees',
    name:'Name',phone:'Phone',actions:'Actions',
    fullName:'Full Name',confirmPw:'Confirm Password',
    secQuestion:'Security Question',secAnswer:'Security Answer',
    changePassword:'Change Password',newPassword:'New Password',
    resetPassword:'Reset Password',backToLogin:'â† Back to login',
    viewOnly:'ğŸ‘ View Only',
    day:'day',days:'days',
    backup:'ğŸ’¾ Backup / Restore:',export:'â¬‡ Export',import:'â¬† Import',
    shareCode:'ğŸ“‹ Share Code',loadCode:'ğŸ“¥ Load Code',
    copyClipboard:'ğŸ“‹ Copy to Clipboard',
    shareHint:'ğŸ“‹ Share this code with employees so they can load the latest schedule:',
    loadHint:'ğŸ“¥ Paste the share code from your admin:',
    loadSchedule:'Load Schedule',schedSynced:'Schedule synced!',
    invalidCode:'Invalid sync code',exported:'Data exported!',imported:'Data imported successfully!',
    invalidFile:'Invalid data file â€” could not import.',
    noTasksYet:'No task options yet.',
    manageTaskOpts:'âš™ Manage Task Options',
    taskOptsHint:"Admin sets these task options. When assigning a worker, pick which task they're doing.",
    taskPlaceholder:'e.g. Roll walls, Cut in ceilingsâ€¦',
    addTask:'+ Add',
    workerUpdated:'Worker updated',workerCreated:'Worker created',
    adminUpdated:'Admin updated',adminCreated:'Admin account created',adminDeleted:'Admin deleted',
    cannotDeleteLastAdmin:'Cannot delete the last admin',
    jobUpdated:'Job updated',jobCreated:'Job created',jobDeleted:'Deleted',
    saved:'Saved',moved:'Moved',removed:'Removed',
    passwordUpdated:'Password updated â€” please sign in',
    passwordUpdatedShort:'Password updated',
    areYouSure:'Are you sure?',
    deleteConfirm:'Delete',
    removeWorkerFrom:'Remove',fromThisDay:'from this day?',
    allAssignmentsRemoved:'? All assignments will be removed.',
    invalidUsernameOrPw:'Invalid username or password',
    usernameNotFound:'Username not found.',
    noSecQuestion:'No security question set for this account. Contact an admin.',
    incorrectAnswer:'Incorrect answer.',
    enterNewPw:'Enter a new password.',
    pwNoMatch:'Passwords do not match.',
    nameUsernameRequired:'Name and username are required.',
    pwRequired:'Password is required.',
    identityVerified:'âœ“ Identity verified! Set your new password.',
    enterUsernameReset:'Enter your username to start the password reset process.',
    answerSecQuestion:'Answer your security question',
    nextBtn:'Next â†’',verifyAnswer:'Verify Answer â†’',setNewPw:'Set New Password',
    teamScheduling:'Team Calendar',
    passwordUpdatedSignIn:'âœ“ Password updated â€” sign in with your new password',
    updatePassword:'Update Password',
    employeeColor:'Employee Color (shows on calendar)',
    noTaskOptions:'â€” No specific task â€”',taskDots:'Taskâ€¦',
    leaveBlankPw:'Leave password blank to keep current password.',
    createWorker:'Create Worker',saveChanges:'Save Changes',createAdmin:'Create Admin',
    addWorkerHint:"Create a worker and their login. They will sign in with their username and password.",
    adminWarning:'âš ï¸ Admin accounts have full access to everything.',
    selectQuestion:'â€” Select a question â€”',selectQuestionOpt:'â€” Select a question (optional) â€”',
    newPwPlaceholder:'Enter new password',repeatPw:'Repeat new password',
    leaveBlankKeep:'Leave blank to keep',setPw:'Set password',repeatPwLabel:'Repeat password',
    deleteAdminConfirm:'Delete admin account for ',
    // Stages page
    stagesAndTasks:'Stages & Tasks',stagesTab:'Stages',
    stageTasks:'Stage Tasks',addTaskToStage:'Add tasks to stage:',
    stagesHint:'These stages appear in all job dropdowns. Each stage can have preset tasks.',
    noAssignedStage:'No stage assigned',
    // Projects sidebar
    projectsTitle:'Projects',projectInfo:'Project Info',
    contracted:'Contracted',completed:'Completed',
    contractedJobs:'Contracted Jobs',completedJobs:'Completed Jobs',
    contractedHint:'Jobs contracted but not yet scheduled',
    completedHint:'Jobs that have been completed',
    noContracted:'No contracted jobs yet',noCompleted:'No completed jobs yet',
    markContracted:'ğŸ“¤ Unschedule',markCompleted:'âœ“ Complete',markActive:'â†© Active',
    addContracted:'+ Add Contracted',
    months:'January,February,March,April,May,June,July,August,September,October,November,December',
    weekDays:'Sun,Mon,Tue,Wed,Thu,Fri,Sat',
    today:'Today',viewOnly:'ğŸ‘ View Only',
    scheduleBlock:'Schedule Block',addToCalendar:'Add to Calendar',
    stageForBlock:'Stage for this block',duration:'Duration (days)',
    startingDate:'Starting',
    workersOnDay:'Workers on this day',noWorkersDay:'No workers assigned on this day',
    removeBlock:'Remove Block',
    removeBlockConfirm:'Remove this entire scheduled block and all its assignments?',
  },
  es:{
    schedule:'Horario',jobs:'Trabajos',workers:'Empleados',stages:'Etapas',
    signOut:'Cerrar SesiÃ³n',signIn:'Iniciar SesiÃ³n',username:'Usuario',password:'ContraseÃ±a',
    forgotPw:'Â¿Olvidaste tu contraseÃ±a?',today:'Hoy',
    newJob:'+ Nuevo Trabajo',editJob:'Editar Trabajo',addWorker:'+ Agregar Empleado',addAdmin:'+ Agregar Admin',
    projectName:'Nombre del Proyecto',address:'DirecciÃ³n',customer:'Cliente',stage:'Etapa',
    estDays:'DÃ­as Estimados',sqft:'Pies Cuadrados',summary:'DescripciÃ³n del Proyecto',
    calColor:'Color en Calendario',estimateRef:'# Estimado (Solo Admin)',
    save:'Guardar',cancel:'Cancelar',done:'Listo',create:'Crear',delete:'Eliminar',edit:'Editar',
    remove:'Quitar',close:'Cerrar',
    noJobs:'Sin trabajos aÃºn',noWorkers:'Sin empleados aÃºn',createFirst:'Crea tu primer trabajo para empezar',
    activeJobs:'trabajos activos',dragHint:'â˜ï¸ Arrastrar al calendario:',
    assignWorkers:'Asignar Empleados',noAssigned:'Sin empleados asignados ese dÃ­a',
    assignedWorkers:'Empleados Asignados',
    estDaysLabel:'DÃ­as Est.',sqftLabel:'Pies Cuadrados',tasksLabel:'Tareas',
    plannedHours:'Horas Planeadas',adminNotes:'Notas del Admin',assignedTask:'Tarea Asignada',
    noTasksSet:'No hay tareas para este trabajo aÃºn',noTaskAssigned:'Sin tarea asignada',
    noNotesFromAdmin:'Sin notas del admin',
    manageStages:'Gestionar Etapas',stageName:'Nombre de Etapa',newStagePlaceholder:'ej. Calafateo, TeÃ±ido',
    addStage:'+ Agregar Etapa',noStages:'Sin etapas',
    adminAccounts:'ğŸ” Cuentas Admin',employees:'ğŸ‘· Empleados',
    name:'Nombre',phone:'TelÃ©fono',actions:'Acciones',
    fullName:'Nombre Completo',confirmPw:'Confirmar ContraseÃ±a',
    secQuestion:'Pregunta de Seguridad',secAnswer:'Respuesta de Seguridad',
    changePassword:'Cambiar ContraseÃ±a',newPassword:'Nueva ContraseÃ±a',
    resetPassword:'Restablecer ContraseÃ±a',backToLogin:'â† Volver al inicio',
    viewOnly:'ğŸ‘ Solo Ver',
    day:'dÃ­a',days:'dÃ­as',
    backup:'ğŸ’¾ Respaldo / Restaurar:',export:'â¬‡ Exportar',import:'â¬† Importar',
    shareCode:'ğŸ“‹ CÃ³digo Compartir',loadCode:'ğŸ“¥ Cargar CÃ³digo',
    copyClipboard:'ğŸ“‹ Copiar al Portapapeles',
    shareHint:'ğŸ“‹ Comparte este cÃ³digo con empleados para cargar el horario actualizado:',
    loadHint:'ğŸ“¥ Pega el cÃ³digo de tu admin:',
    loadSchedule:'Cargar Horario',schedSynced:'Â¡Horario sincronizado!',
    invalidCode:'CÃ³digo invÃ¡lido',exported:'Â¡Datos exportados!',imported:'Â¡Datos importados correctamente!',
    invalidFile:'Archivo invÃ¡lido â€” no se pudo importar.',
    noTasksYet:'Sin opciones de tareas aÃºn.',
    manageTaskOpts:'âš™ Gestionar Opciones de Tareas',
    taskOptsHint:"El admin configura las opciones. Al asignar un empleado, elige que tarea hace.",
    taskPlaceholder:'ej. Pintar paredes, Recortar techosâ€¦',
    addTask:'+ Agregar',
    workerUpdated:'Empleado actualizado',workerCreated:'Empleado creado',
    adminUpdated:'Admin actualizado',adminCreated:'Cuenta admin creada',adminDeleted:'Admin eliminado',
    cannotDeleteLastAdmin:'No se puede eliminar el Ãºltimo admin',
    jobUpdated:'Trabajo actualizado',jobCreated:'Trabajo creado',jobDeleted:'Eliminado',
    saved:'Guardado',moved:'Movido',removed:'Quitado',
    passwordUpdated:'ContraseÃ±a actualizada â€” inicia sesiÃ³n',
    passwordUpdatedShort:'ContraseÃ±a actualizada',
    areYouSure:'Â¿EstÃ¡s seguro?',
    deleteConfirm:'Eliminar',
    removeWorkerFrom:'Quitar',fromThisDay:'de este dÃ­a?',
    allAssignmentsRemoved:'? Se eliminarÃ¡n todas las asignaciones.',
    invalidUsernameOrPw:'Usuario o contraseÃ±a invÃ¡lidos',
    usernameNotFound:'Usuario no encontrado.',
    noSecQuestion:'No hay pregunta de seguridad. Contacta al admin.',
    incorrectAnswer:'Respuesta incorrecta.',
    enterNewPw:'Ingresa una nueva contraseÃ±a.',
    pwNoMatch:'Las contraseÃ±as no coinciden.',
    nameUsernameRequired:'Nombre y usuario son requeridos.',
    pwRequired:'La contraseÃ±a es requerida.',
    identityVerified:'âœ“ Â¡Identidad verificada! Ingresa tu nueva contraseÃ±a.',
    enterUsernameReset:'Ingresa tu usuario para restablecer la contraseÃ±a.',
    answerSecQuestion:'Responde tu pregunta de seguridad',
    nextBtn:'Siguiente â†’',verifyAnswer:'Verificar Respuesta â†’',setNewPw:'Establecer ContraseÃ±a',
    teamScheduling:'Team Calendar',
    passwordUpdatedSignIn:'âœ“ ContraseÃ±a actualizada â€” inicia sesiÃ³n con la nueva contraseÃ±a',
    updatePassword:'Actualizar ContraseÃ±a',
    employeeColor:'Color del Empleado (visible en calendario)',
    noTaskOptions:'â€” Sin tarea especÃ­fica â€”',taskDots:'Tareaâ€¦',
    leaveBlankPw:'Dejar en blanco para mantener la contraseÃ±a actual.',
    createWorker:'Crear Empleado',saveChanges:'Guardar Cambios',createAdmin:'Crear Admin',
    addWorkerHint:"Crea un empleado y su acceso. Inician sesion con su usuario y contrasena.",
    adminWarning:'âš ï¸ Las cuentas admin tienen acceso completo a todo.',
    selectQuestion:'â€” Selecciona una pregunta â€”',selectQuestionOpt:'â€” Selecciona una pregunta (opcional) â€”',
    newPwPlaceholder:'Ingresa nueva contraseÃ±a',repeatPw:'Repite la nueva contraseÃ±a',
    leaveBlankKeep:'Dejar en blanco para mantener',setPw:'Establecer contraseÃ±a',repeatPwLabel:'Repetir contraseÃ±a',
    deleteAdminConfirm:'Eliminar cuenta admin de ',
    stagesAndTasks:'Etapas y Tareas',stagesTab:'Etapas',
    stageTasks:'Tareas de Etapa',addTaskToStage:'Agregar tareas a la etapa:',
    stagesHint:'Estas etapas aparecen en todos los trabajos. Cada etapa puede tener tareas predefinidas.',
    noAssignedStage:'Sin etapa asignada',
    projectsTitle:'Proyectos',projectInfo:'Info del Proyecto',
    contracted:'Contratado',completed:'Completado',
    contractedJobs:'Trabajos Contratados',completedJobs:'Trabajos Completados',
    contractedHint:'Trabajos contratados pero no listos para programar',
    completedHint:'Trabajos que han sido completados',
    noContracted:'Sin trabajos contratados',noCompleted:'Sin trabajos completados',
    markContracted:'ğŸ“¤ Sin programar',markCompleted:'âœ“ Completar',markActive:'â†© Activo',
    addContracted:'+ Agregar Contratado',
    months:'Enero,Febrero,Marzo,Abril,Mayo,Junio,Julio,Agosto,Septiembre,Octubre,Noviembre,Diciembre',
    weekDays:'Dom,Lun,Mar,MiÃ©,Jue,Vie,SÃ¡b',
    today:'Hoy',viewOnly:'ğŸ‘ Solo Vista',
    scheduleBlock:'Agregar al Horario',addToCalendar:'Agregar al Calendario',
    stageForBlock:'Etapa para este bloque',duration:'DuraciÃ³n (dÃ­as)',
    assignWorkers:'Asignar Empleados (opcional)',
    startingDate:'Iniciando',
    workersOnDay:'Empleados este dÃ­a',noWorkersDay:'Sin empleados asignados este dÃ­a',
    removeBlock:'Eliminar Bloque',
    removeBlockConfirm:'Â¿Eliminar este bloque completo y todas sus asignaciones?',
  }
};
let LANG='en';
function t(key){return (T[LANG]&&T[LANG][key])||T.en[key]||key;}

const LOGO_B64='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8JY4hry07rgPCsXLH/oH0IJ0+FNml8pxf5QXVu20xmXc7ZUW+puMToaiMxvHJjmI0KhXcf8Aon0JuP8A0T6EH6nkfNM+V51c8klSrsm2WovOeFhbC0ltPNysh6mgKN7LZbnea6Oit1HNUTSEBrWNJV+tkDJGTANtdiS+N/0xWMAbGR+RZ/UoLGjmREQEREBERAREQEREBERAREQEREBERAREQEREBERB+Joo5ozHKxr2HnDhqCsWr8uMDV1Q6oqsL2qSV3O40zdT9SyxEEd1mSmWVU/elwnQa/3YwF8PeJys/ZSj9CktEEfW3JjLW3VTammwrQiRp4FzA71rO6Smp6WFsFNCyGJvxWMboB5l9kQePiTDFhxHSmmvdrpa6PqmjDtPJqsNdkVla5xccKUep6m6KSkQRp7xOVn7KUfoT3icrP2Uo/QpLRBi2Fsv8HYYdv2SwUVJJ/xGxDeHn51lGi5RAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQf/2Q==';

const DAY_NAMES=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];

// â”€â”€ STAGE / TASK DISPLAY TRANSLATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Translates stage names and task labels for workers viewing the calendar.
// Admins see original names in Stages tab. Workers/calendar display gets translated.
// Stage & task translation dictionaries (English â†’ Spanish)
// Only words listed here get translated â€” custom/unknown words stay as typed
const STAGE_NAME_ES={
  // Prep / Prime
  'prep':'PreparaciÃ³n','preparation':'PreparaciÃ³n','prep work':'PreparaciÃ³n',
  'prime':'ImprimaciÃ³n','priming':'ImprimaciÃ³n','primer':'ImprimaciÃ³n',
  // Paint / Apply
  'paint':'Pintura','painting':'Pintura','apply':'Aplicar','application':'AplicaciÃ³n',
  'coat':'Capa','first coat':'Primera capa','second coat':'Segunda capa','top coat':'Capa final',
  // Cut / Roll
  'cut':'Corte','cut in':'Cortar bordes','cutting':'Corte','cut-in':'Cortar bordes',
  'roll':'Rodillo','rolling':'Rodillar','roll out':'Rodillar',
  // Finish / Touch up
  'finish':'Acabado','finishing':'Acabado','final':'Final',
  'touch up':'Retoques','touch-up':'Retoques','touchup':'Retoques','detail':'Detalles',
  // Caulk / Sand
  'caulk':'Calafatear','caulking':'Calafatear',
  'sand':'Lijado','sanding':'Lijado','sand down':'Lijar',
  // Clean / Wash
  'clean':'Limpieza','cleaning':'Limpieza','cleanup':'Limpieza','clean up':'Limpieza',
  'wash':'Lavado','washing':'Lavado','power wash':'Lavado a presiÃ³n','pressure wash':'Lavado a presiÃ³n',
  'sweep':'Barrer','sweeping':'Barrer',
  // Stain / Seal / Epoxy
  'stain':'Tintura','staining':'Tintura',
  'seal':'Sellado','sealing':'Sellado',
  'epoxy':'Epoxi','epoxy floor':'Piso Epoxi',
  // Location types
  'exterior':'Exterior','interior':'Interior',
  'deck':'Terraza','fence':'Cerca','garage':'Garaje','ceiling':'Techo','walls':'Paredes',
  // Other common stages
  'demo':'DemoliciÃ³n','demolition':'DemoliciÃ³n',
  'tape':'Enmascarar','masking':'Enmascarar','mask':'Enmascarar',
  'spray':'Rociar','spraying':'Rociar',
  'dry':'Secado','drying':'Secado','cure':'Curado','curing':'Curado',
  'inspect':'InspecciÃ³n','inspection':'InspecciÃ³n','walkthrough':'RevisiÃ³n final',
  'complete':'Completado','completed':'Completado','done':'Terminado',
  'start':'Inicio','setup':'ConfiguraciÃ³n',
};
const TASK_NAME_ES={
  // Cut / Roll
  'cut':'Cortar','cut in':'Cortar bordes','cutting':'Cortar','cut-in':'Cortar bordes',
  'roll':'Rodillar','rolling':'Rodillar','roll out':'Rodillar',
  // Prime / Paint
  'prime':'Imprimar','priming':'Imprimar','primer':'Imprimar',
  'paint':'Pintar','painting':'Pintar','apply paint':'Aplicar pintura',
  'first coat':'Primera capa','second coat':'Segunda capa','top coat':'Capa final',
  // Sand / Caulk
  'sand':'Lijar','sanding':'Lijar','sand down':'Lijar',
  'caulk':'Calafatear','caulking':'Calafatear',
  // Clean / Sweep / Wash
  'clean':'Limpiar','cleaning':'Limpiar','cleanup':'Limpiar','clean up':'Limpiar',
  'sweep':'Barrer','sweeping':'Barrer',
  'wash':'Lavar','washing':'Lavar','power wash':'Lavar a presiÃ³n','pressure wash':'Lavar a presiÃ³n',
  // Touch up / Finish / Detail
  'touch up':'Retoques','touch-up':'Retoques','touchup':'Retoques',
  'finish':'Acabar','finishing':'Acabar','detail':'Detalles','detail work':'Detalles',
  // Stain / Seal
  'stain':'Tintar','staining':'Tintar',
  'seal':'Sellar','sealing':'Sellar',
  // Tape / Mask
  'tape':'Enmascarar','taping':'Enmascarar','mask':'Enmascarar','masking':'Enmascarar',
  // Spray / Brush
  'spray':'Rociar','spraying':'Rociar',
  'brush':'Brocha','brushing':'Brocha',
  // Prep / Setup
  'prep':'Preparar','preparation':'Preparar','prep work':'Preparar',
  'setup':'Preparar','set up':'Preparar',
  // Load / Unload / Move
  'load':'Cargar','unload':'Descargar','move':'Mover','haul':'Transportar',
  // Misc
  'inspect':'Inspeccionar','inspection':'Inspeccionar','check':'Revisar',
  'mix':'Mezclar','mixing':'Mezclar',
  'cut trim':'Cortar bordes','trim':'Bordes',
  'backroll':'Rodillo atrÃ¡s','back roll':'Rodillo atrÃ¡s',
  'helper':'Ayudante','assist':'Asistir','lead':'LÃ­der',
};
function trStage(name){ if(!name) return name; if(LANG!=='es') return name; return STAGE_NAME_ES[name.toLowerCase().trim()]||name; }
function trTask(name){ if(!name) return name; if(LANG!=='es') return name; return TASK_NAME_ES[name.toLowerCase().trim()]||name; }
const STAGE_COLORS=[
  {bg:'#dbeafe',text:'#1d4ed8',border:'#93c5fd'},
  {bg:'#dcfce7',text:'#15803d',border:'#86efac'},
  {bg:'#fef9c3',text:'#a16207',border:'#fde047'},
  {bg:'#fee2e2',text:'#b91c1c',border:'#fca5a5'},
  {bg:'#f3e8ff',text:'#7e22ce',border:'#d8b4fe'},
  {bg:'#ffedd5',text:'#c2410c',border:'#fdba74'},
  {bg:'#e0f2fe',text:'#0369a1',border:'#7dd3fc'},
  {bg:'#f0fdf4',text:'#166534',border:'#86efac'},
  {bg:'#fdf2f8',text:'#9d174d',border:'#f9a8d4'},
  {bg:'#f1f5f9',text:'#475569',border:'#cbd5e1'},
];

// Job accent colors for calendar display
const JOB_COLORS=[
  {bg:'#dbeafe',text:'#1d4ed8',name:'Blue'},
  {bg:'#dcfce7',text:'#15803d',name:'Green'},
  {bg:'#fef9c3',text:'#854d0e',name:'Yellow'},
  {bg:'#fee2e2',text:'#b91c1c',name:'Red'},
  {bg:'#f3e8ff',text:'#7e22ce',name:'Purple'},
  {bg:'#ffedd5',text:'#c2410c',name:'Orange'},
  {bg:'#e0f2fe',text:'#0369a1',name:'Sky'},
  {bg:'#fce7f3',text:'#9d174d',name:'Pink'},
  {bg:'#d1fae5',text:'#065f46',name:'Teal'},
  {bg:'#fef3c7',text:'#92400e',name:'Amber'},
  {bg:'#e0e7ff',text:'#3730a3',name:'Indigo'},
  {bg:'#f5f5f4',text:'#44403c',name:'Stone'},
];

const SECURITY_QUESTIONS=[
  "What was the name of your first pet?",
  "What city were you born in?",
  "What is your mother's maiden name?",
  "What was the name of your elementary school?",
  "What is your oldest sibling's middle name?",
];

const DEFAULT_STAGES=[
  {id:'s1',name:'Prep',color:STAGE_COLORS[9]},
  {id:'s2',name:'Primer',color:STAGE_COLORS[0]},
  {id:'s3',name:'Finish',color:STAGE_COLORS[1]},
  {id:'s4',name:'Touch-ups',color:STAGE_COLORS[2]},
  {id:'s5',name:'Epoxy',color:STAGE_COLORS[5]},
  {id:'s6',name:'Roman Clay',color:STAGE_COLORS[8]},
  {id:'s7',name:'Complete',color:STAGE_COLORS[7]},
  {id:'s8',name:'Completed Job Extra',color:STAGE_COLORS[3]},
  {id:'s9',name:'Residential',color:STAGE_COLORS[4]},
  {id:'s10',name:'Graphic Prep',color:STAGE_COLORS[6]},
];

// Hardcoded admins that always work regardless of localStorage
const HARDCODED_ADMINS=[
  {id:'u1',username:'oanaya',password:'paint6765',name:'Oscar Anaya',role:'ADMIN'},
  {id:'u-m',username:'Manaya',password:'paint6765',name:'M',role:'ADMIN'},
  {id:'u-j',username:'Jornelas',password:'anaya123',name:'Juan Ornelas',role:'ADMIN'},
];

function getToday(){return new Date().toISOString().split('T')[0];}
function nd(d,n){const x=new Date(d);x.setDate(x.getDate()+n);return x.toISOString().split('T')[0];}
function genId(){return Math.random().toString(36).slice(2,10);}
function taskText(t){return typeof t==='string'?t:(t&&t.text?t.text:'');}
function taskColor(t,fallback){return typeof t==='string'?fallback||'#6366f1':(t&&t.color?t.color:fallback||'#6366f1');}
function stageColor(stages,name){const s=stages.find(s=>s.name===name);return s?s.color:{bg:'#f1f5f9',text:'#475569',border:'#cbd5e1'};}
function jobColor(colorIdx){return JOB_COLORS[colorIdx||0]||JOB_COLORS[0];}

function defaultData(){
  return{
    stages:DEFAULT_STAGES.map(s=>({tasks:[],...s})),  // tasks start empty
    users:[
      {id:'u1',username:'oanaya',password:'paint6765',name:'Oscar Anaya',role:'ADMIN'},
      {id:'u-m',username:'Manaya',password:'paint6765',name:'M',role:'ADMIN'},
      {id:'u-j',username:'Jornelas',password:'anaya123',name:'Juan Ornelas',role:'ADMIN'},
      {id:'u2',username:'carlos',password:'worker123',name:'Carlos Rivera',role:'WORKER',workerId:'w1'},
      {id:'u3',username:'mike',password:'worker123',name:'Mike Chen',role:'WORKER',workerId:'w2'},
    ],
    workers:[
      {id:'w1',name:'Carlos Rivera',phone:'',isActive:true,color:'#3b82f6'},
      {id:'w2',name:'Mike Chen',phone:'',isActive:true,color:'#f59e0b'},
      {id:'w3',name:'Dana Lopez',phone:'',isActive:true,color:'#10b981'},
      {id:'w4',name:'James Park',phone:'',isActive:true,color:'#8b5cf6'},
    ],
    jobs:[
      {id:'j1',name:'Oakwood Colonial',address:'412 Oakwood Dr',customerName:'Smith Family',summary:'Two-story colonial, exterior full repaint',estimatedDays:3,sqft:2400,tasks:[],colorIdx:0,estimateRef:'',status:'active'},
      {id:'j2',name:'Maple Ave Interior',address:'88 Maple Ave',customerName:'Johnson',summary:'Interior rooms only, 3 bed 2 bath',estimatedDays:2,sqft:1200,tasks:[],colorIdx:1,estimateRef:'',status:'active'},
      {id:'j3',name:'Sunrise Epoxy',address:'1055 Sunrise Blvd',customerName:'',summary:'Epoxy garage floor, 2-car',estimatedDays:1,sqft:600,tasks:[],colorIdx:5,estimateRef:'',status:'active'},
    ],
    assignments:[
      {id:'a1',jobId:'j1',workerId:'w1',scheduledDate:getToday(),plannedHours:8,task:'',notes:'',blockId:'b1'},
      {id:'a2',jobId:'j2',workerId:'w2',scheduledDate:getToday(),plannedHours:8,task:'',notes:'',blockId:'b2'},
    ],
    scheduleBlocks:[
      {id:'b1',jobId:'j1',startDate:getToday(),estimatedDays:3,stage:'Primer',colorIdx:0},
      {id:'b2',jobId:'j2',startDate:getToday(),estimatedDays:2,stage:'Finish',colorIdx:1},
    ],
  };
}

function loadData(){
  try{
    const saved=localStorage.getItem('anaya_sched_v2');
    // Also try old key for migration
    const oldSaved=!saved&&localStorage.getItem('anaya_scheduler_data');
    const raw=saved||oldSaved;
    if(raw){
      const d=JSON.parse(raw);
      if(d&&d.jobs&&d.workers){
        // Ensure hardcoded admins always exist
        HARDCODED_ADMINS.forEach(ha=>{
          const idx=d.users.findIndex(u=>u.id===ha.id);
          if(idx>=0){
            d.users[idx]={...d.users[idx],role:'ADMIN',username:d.users[idx].username||ha.username};
          } else {
            d.users.push({...ha});
          }
        });
        // Migrate jobs: add colorIdx/estimateRef/status/completedDate if missing
        d.jobs=d.jobs.map((j,i)=>({colorIdx:i%JOB_COLORS.length,estimateRef:'',status:'active',tasks:[],completedDate:null,imageB64:null,...j}));
        // Migrate workers: add color if missing
        d.workers=d.workers.map(w=>({color:null,...w}));
        // Migrate stages: add new default stages if missing, add tasks array
        DEFAULT_STAGES.forEach(ds=>{if(!d.stages.find(s=>s.id===ds.id))d.stages.push(ds);});
        // Migrate stage tasks: upgrade from string[] to {text,color}[]
        d.stages=d.stages.map(s=>({tasks:[],...s,tasks:(s.tasks||[]).map(tt=>typeof tt==='string'?{text:tt,color:'#6366f1'}:tt)}));
        // Migrate users: add username if missing
        d.users=d.users.map(u=>({...u,username:u.username||(u.email?u.email.split('@')[0]:u.name?.toLowerCase().replace(/\s/g,''))||u.id}));
        if(d.assignments===undefined)d.assignments=[];
        if(d.scheduleBlocks===undefined)d.scheduleBlocks=[];
        // Migrate old assignments (no blockId) â†’ create blocks for them
        const migratedBlockIds=new Set(d.scheduleBlocks.map(b=>b.id));
        const orphanAssignments=d.assignments.filter(a=>!a.blockId);
        if(orphanAssignments.length>0){
          // Group orphans by jobId+date
          const groups={};
          orphanAssignments.forEach(a=>{const k=a.jobId+'_'+a.scheduledDate;if(!groups[k])groups[k]={jobId:a.jobId,date:a.scheduledDate,assignments:[]};groups[k].assignments.push(a);});
          Object.values(groups).forEach(g=>{
            const job=d.jobs.find(j=>j.id===g.jobId);
            const bId=genId();
            d.scheduleBlocks.push({id:bId,jobId:g.jobId,startDate:g.date,estimatedDays:job?job.estimatedDays||1:1,stage:job?job.stage||'Prep':'Prep',colorIdx:job?job.colorIdx||0:0});
            g.assignments.forEach(a=>{a.blockId=bId;});
          });
        }
        // Save migrated data back immediately
        try{localStorage.setItem('anaya_sched_v2',JSON.stringify(d));}catch(e){}
        return d;
      }
    }
  }catch(e){console.warn('loadData error',e);}
  return defaultData();
}
function saveData(d){
  try{
    localStorage.setItem('anaya_sched_v2',JSON.stringify(d));
    // Keep old key in sync for backwards compat
    localStorage.removeItem('anaya_scheduler_data');
  }catch(e){}
  window.__AS_DATA__=d;
}

function reducer(state,action){
  switch(action.type){
    case 'IMPORT_DATA': return action.data;
    case 'ADD_STAGE': return{...state,stages:[...state.stages,action.stage]};
    case 'UPDATE_STAGE': return{...state,stages:state.stages.map(s=>s.id===action.id?{...s,...action.data}:s)};
    case 'DELETE_STAGE': return{...state,stages:state.stages.filter(s=>s.id!==action.id)};
    case 'ADD_STAGE_TASK': return{...state,stages:state.stages.map(s=>s.id===action.stageId?{...s,tasks:[...(s.tasks||[]),{text:action.text,color:action.color||'#6366f1'}]}:s)};
    case 'DEL_STAGE_TASK': return{...state,stages:state.stages.map(s=>s.id===action.stageId?{...s,tasks:(s.tasks||[]).filter((_,i)=>i!==action.idx)}:s)};
    case 'ADD_JOB': return{...state,jobs:[...state.jobs,action.job]};
    case 'UPDATE_JOB': return{...state,jobs:state.jobs.map(j=>j.id===action.id?{...j,...action.data}:j)};
    case 'SET_JOB_STATUS': return{...state,jobs:state.jobs.map(j=>j.id===action.id?{...j,status:action.status,...(action.status==='completed'&&!j.completedDate?{completedDate:getToday()}:{})}:j)};
    case 'SET_JOB_COMPLETED_DATE': return{...state,jobs:state.jobs.map(j=>j.id===action.id?{...j,completedDate:action.date}:j)};
    case 'DELETE_JOB': return{...state,jobs:state.jobs.filter(j=>j.id!==action.id),assignments:state.assignments.filter(a=>a.jobId!==action.id),scheduleBlocks:(state.scheduleBlocks||[]).filter(b=>b.jobId!==action.id)};
    case 'ADD_BLOCK': return{...state,scheduleBlocks:[...(state.scheduleBlocks||[]),action.block]};
    case 'UPDATE_BLOCK': return{...state,scheduleBlocks:(state.scheduleBlocks||[]).map(b=>b.id===action.id?{...b,...action.data}:b)};
    case 'DELETE_BLOCK': return{...state,scheduleBlocks:(state.scheduleBlocks||[]).filter(b=>b.id!==action.id),assignments:state.assignments.filter(a=>a.blockId!==action.id)};
    case 'ADD_JOB_TASK': return{...state,jobs:state.jobs.map(j=>j.id===action.jobId?{...j,tasks:[...(j.tasks||[]),action.text]}:j)};
    case 'DEL_JOB_TASK': return{...state,jobs:state.jobs.map(j=>j.id===action.jobId?{...j,tasks:(j.tasks||[]).filter((_,i)=>i!==action.idx)}:j)};
    case 'ADD_USER': return{...state,users:[...state.users,action.user]};
    case 'UPDATE_USER': return{...state,users:state.users.map(u=>u.id===action.id?{...u,...action.data}:u)};
    case 'DELETE_USER': return{...state,users:state.users.filter(u=>u.id!==action.id)};
    case 'ADD_WORKER': return{...state,workers:[...state.workers,action.worker]};
    case 'UPDATE_WORKER': return{...state,workers:state.workers.map(w=>w.id===action.id?{...w,...action.data}:w)};
    case 'ADD_ASSIGNMENT': return{...state,assignments:[...state.assignments,action.assignment]};
    case 'UPDATE_ASSIGNMENT': return{...state,assignments:state.assignments.map(a=>a.id===action.id?{...a,...action.data}:a)};
    case 'DELETE_ASSIGNMENT': return{...state,assignments:state.assignments.filter(a=>a.id!==action.id)};
    case 'LOAD_ALL': return{...action.data};
    default: return state;
  }
}

function getWeekStart(date){const d=new Date(date),day=d.getDay();d.setDate(d.getDate()+(day===0?-6:1-day));d.setHours(0,0,0,0);return d;}
function addDays(date,n){const d=new Date(date);d.setDate(d.getDate()+n);return d;}
function toDateStr(date){return new Date(date).toISOString().split('T')[0];}
function formatDate(date){return new Date(date).toLocaleDateString('en-US',{month:'short',day:'numeric'});}
function formatWeekRange(ws){return`${formatDate(ws)} â€“ ${formatDate(addDays(ws,6))}`;}

// â”€â”€ SHARED COMPONENTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function Toasts({toasts}){
  return React.createElement('div',{className:'toast-container'},
    toasts.map(t=>React.createElement('div',{key:t.id,className:`toast ${t.type}`},
      React.createElement('span',null,t.type==='success'?'âœ“':'âœ•'),t.msg)));
}
function StagePill({stage,stages}){
  const c=stageColor(stages||[],stage);
  return React.createElement('span',{className:'stage-pill',style:{background:c.bg,color:c.text,border:`1px solid ${c.border}`}},stage||'â€”');
}
function Modal({title,onClose,children,footer,wide}){
  useEffect(()=>{const h=e=>{if(e.key==='Escape')onClose();};document.addEventListener('keydown',h);return()=>document.removeEventListener('keydown',h);},[onClose]);
  return React.createElement('div',{className:'modal-overlay',onClick:e=>{if(e.target===e.currentTarget)onClose();}},
    React.createElement('div',{className:'modal',style:wide?{maxWidth:'600px'}:{}},
      React.createElement('div',{className:'modal-header'},
        React.createElement('div',{className:'modal-title'},title),
        React.createElement('button',{className:'modal-close',onClick:onClose},'Ã—')),
      React.createElement('div',{className:'modal-body'},children),
      footer&&React.createElement('div',{className:'modal-footer'},footer)
    )
  );
}
function Confirm({msg,onConfirm,onCancel}){
  return React.createElement(Modal,{title:'Are you sure?',onClose:onCancel,footer:[
    React.createElement('button',{key:'c',className:'btn btn-ghost',onClick:onCancel},'Cancel'),
    React.createElement('button',{key:'d',className:'btn btn-danger',onClick:onConfirm},'Delete'),
  ]},React.createElement('p',{className:'confirm-msg'},msg));
}

// â”€â”€ TASK DROPDOWN (in assignment modal) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function TaskDropdown({job,value,onChange,isAdmin,stages,stageName}){
  const [open,setOpen]=useState(true);
  // Use the provided stageName (block stage) or fall back to job's stage
  const lookupStage=stageName||( job?job.stage:'');
  const stage=stages?stages.find(s=>s.name===lookupStage):null;
  const stageTasks=stage?stage.tasks||[]:[];
  const tasks=stageTasks; // ONLY use stage tasks, never fallback to job tasks
  return React.createElement('div',{className:'task-section'},
    React.createElement('div',{className:'task-section-hdr',onClick:()=>setOpen(o=>!o)},
      React.createElement('span',{className:'task-section-title'},isAdmin?'ğŸ”„ Change Task':'ğŸ“‹ '+t('assignedTask')),
      React.createElement('span',{className:'task-arrow'+(open?' open':'')},'â–¶')),
    open&&React.createElement('div',{className:'task-body'},
      tasks.length===0&&!value
        ?React.createElement('p',{className:'task-none'},t('noTasksYet'))
        :tasks.length===0&&value
          // No stage tasks defined, but worker has an assigned task - show it
          ?isAdmin
            ?React.createElement('div',null,
                React.createElement('div',{style:{fontSize:'12px',color:'var(--text3)',marginBottom:'6px',fontStyle:'italic'}},'No stage tasks defined. Current task:'),
                React.createElement('div',{style:{display:'flex',alignItems:'center',gap:'8px'}},
                  React.createElement('div',{style:{flex:1,background:'var(--bg3)',border:'1px solid var(--border)',borderRadius:'var(--r)',padding:'8px 12px',fontSize:'13px',fontWeight:700,color:'var(--blue)'}},value),
                  React.createElement('button',{className:'btn btn-ghost btn-sm',style:{fontSize:'11px',color:'var(--text3)'},onClick:()=>onChange('')},'Clear')
                )
              )
            :(()=>{
                const chipColor='#6366f1';
                return React.createElement('div',{className:'task-readonly',style:{background:chipColor+'18',border:'1px solid '+chipColor+'44',color:chipColor,fontWeight:700}},value);
              })()
          :isAdmin
          ?React.createElement('select',{className:'task-select',value:value||'',onChange:e=>onChange(e.target.value)},
              React.createElement('option',{value:''},'â€” '+t('noTaskOptions')+' â€”'),
              tasks.map((tt,i)=>React.createElement('option',{key:i,value:taskText(tt)},taskText(tt))))
          :(value
              ?(()=>{
                const taskObj=tasks.find(tt=>taskText(tt)===value);
                const chipColor=taskObj?taskColor(taskObj,'#6366f1'):'#6366f1';
                return React.createElement('div',{className:'task-readonly',style:{background:chipColor+'18',border:'1px solid '+chipColor+'44',color:chipColor,fontWeight:700}},value);
              })()
              :React.createElement('p',{className:'task-none'},t('noTaskAssigned')))
    )
  );
}

// â”€â”€ STAGE MANAGER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function StageManager({stages,dispatch,onClose}){
  const [newName,setNewName]=useState('');
  const [selColor,setSelColor]=useState(0);
  const add=()=>{const n=newName.trim();if(!n||stages.find(s=>s.name.toLowerCase()===n.toLowerCase()))return;dispatch({type:'ADD_STAGE',stage:{id:genId(),name:n,color:STAGE_COLORS[selColor]}});setNewName('');};
  return React.createElement(Modal,{title:'Manage Stages',onClose,footer:[React.createElement('button',{key:'c',className:'btn btn-primary',onClick:onClose},'Done')]},
    React.createElement('p',{style:{fontSize:'13px',color:'var(--text2)',marginBottom:'14px'}},'Add or remove stages. They appear in all job dropdowns instantly.'),
    React.createElement('div',{style:{display:'flex',flexWrap:'wrap',marginBottom:'16px',padding:'12px',background:'var(--bg3)',borderRadius:'var(--r)',border:'1px solid var(--border)'}},
      stages.map(s=>React.createElement('span',{key:s.id,className:'stage-chip',style:{background:s.color.bg,color:s.color.text,borderColor:s.color.border}},
        s.name,React.createElement('button',{className:'stage-chip-del',style:{color:s.color.text},onClick:()=>dispatch({type:'DELETE_STAGE',id:s.id})},'Ã—'))),
      stages.length===0&&React.createElement('span',{style:{fontSize:'12px',color:'var(--text3)',fontStyle:'italic'}},'No stages')),
    React.createElement('div',{className:'form-group'},
      React.createElement('label',{className:'form-label'},'New Stage Name'),
      React.createElement('input',{className:'form-input',value:newName,onChange:e=>setNewName(e.target.value),onKeyDown:e=>{if(e.key==='Enter')add();},placeholder:'e.g. Caulking, Staining'})),
    React.createElement('div',{style:{fontSize:'11px',fontWeight:700,textTransform:'uppercase',letterSpacing:'.5px',color:'var(--text2)',marginBottom:'6px'}},'Color'),
    React.createElement('div',{className:'color-row'},
      STAGE_COLORS.map((c,i)=>React.createElement('div',{key:i,className:'color-swatch'+(selColor===i?' selected':''),style:{background:c.bg,border:`2px solid ${selColor===i?c.text:c.border}`},onClick:()=>setSelColor(i)}))),
    React.createElement('button',{className:'btn btn-primary',style:{marginTop:'12px',width:'100%'},onClick:add},'+ Add Stage')
  );
}

// â”€â”€ JOB FORM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function JobForm({job,stages,isAdmin,onSave,onClose}){
  const [form,setForm]=useState(job?{...job}:{name:'',address:'',customerName:'',summary:'',estimatedDays:1,sqft:'',colorIdx:0,estimateRef:'',imageB64:null});
  const set=k=>e=>setForm(f=>({...f,[k]:e.target.value}));
  const handleImage=e=>{
    const file=e.target.files&&e.target.files[0]; if(!file) return;
    const reader=new FileReader();
    reader.onload=ev=>setForm(f=>({...f,imageB64:ev.target.result}));
    reader.readAsDataURL(file);
  };
  const submit=()=>{
    if(!form.address.trim())return;
    const days=parseFloat(form.estimatedDays);
    if(isNaN(days)||days<=0)return;
    onSave({...form,estimatedDays:days,sqft:form.sqft?parseInt(form.sqft):null,tasks:form.tasks||[]});
  };
  return React.createElement(Modal,{title:job?'Edit Job':'New Job',onClose,footer:[
    React.createElement('button',{key:'c',className:'btn btn-ghost',onClick:onClose},'Cancel'),
    React.createElement('button',{key:'s',className:'btn btn-primary',onClick:submit},job?'Save':'Create Job'),
  ]},
    React.createElement('div',{className:'form-group'},
      React.createElement('label',{className:'form-label'},'Project Name *'),
      React.createElement('input',{className:'form-input',value:form.name,onChange:set('name'),placeholder:'e.g. Oakwood Colonial'})),
    React.createElement('div',{className:'form-group'},
      React.createElement('label',{className:'form-label'},'Address *'),
      React.createElement('input',{className:'form-input',value:form.address,onChange:set('address'),placeholder:'123 Main St'})),
    React.createElement('div',{className:'form-group'},
      React.createElement('label',{className:'form-label'},'Customer'),
      React.createElement('input',{className:'form-input',value:form.customerName,onChange:set('customerName'),placeholder:'Optional'})),
    React.createElement('div',{className:'form-row'},
      React.createElement('div',{className:'form-group'},
        React.createElement('label',{className:'form-label'},'Estimated Days *'),
        React.createElement('input',{className:'form-input',type:'number',min:.5,step:.5,value:form.estimatedDays,onChange:set('estimatedDays')})),
      React.createElement('div',{className:'form-group'},
        React.createElement('label',{className:'form-label'},'Square Footage'),
        React.createElement('input',{className:'form-input',type:'number',min:1,step:1,value:form.sqft||'',onChange:set('sqft'),placeholder:'e.g. 2400'}))),
    React.createElement('div',{className:'form-group'},
      React.createElement('label',{className:'form-label'},'Project Summary'),
      React.createElement('textarea',{className:'form-textarea',value:form.summary||'',onChange:set('summary'),placeholder:'Short descriptionâ€¦',style:{minHeight:'56px'}})),
    React.createElement('div',{className:'form-group'},
      React.createElement('label',{className:'form-label'},'Calendar Color'),
      React.createElement('div',{className:'job-color-row'},
        JOB_COLORS.map((c,i)=>React.createElement('div',{key:i,className:'job-color-swatch'+(form.colorIdx===i?' selected':''),style:{background:c.bg,border:`3px solid ${form.colorIdx===i?c.text:'transparent'}`},title:c.name,onClick:()=>setForm(f=>({...f,colorIdx:i}))})))),
/* estimate reference field removed â€” future feature */null,
    React.createElement('div',{className:'form-group'},
      React.createElement('label',{className:'form-label'},'ğŸ“· Project Photo'),
      form.imageB64
        ?React.createElement('div',{style:{position:'relative',display:'inline-block'}},
            React.createElement('img',{src:form.imageB64,style:{width:'140px',height:'90px',objectFit:'cover',borderRadius:'10px',border:'2px solid var(--border)',display:'block'}}),
            React.createElement('button',{
              onClick:()=>setForm(f=>({...f,imageB64:null})),
              style:{position:'absolute',top:'-7px',right:'-7px',background:'var(--red)',color:'#fff',border:'none',borderRadius:'50%',width:'22px',height:'22px',fontSize:'13px',cursor:'pointer',fontWeight:900,lineHeight:'22px',textAlign:'center'}
            },'Ã—')
          )
        :React.createElement('label',{style:{display:'inline-flex',alignItems:'center',gap:'8px',background:'var(--bg3)',border:'2px dashed var(--border2)',borderRadius:'10px',padding:'12px 20px',cursor:'pointer',fontSize:'13px',color:'var(--text2)'}},
            React.createElement('span',{style:{fontSize:'22px'}},'ğŸ“·'),
            'Upload photo',
            React.createElement('input',{type:'file',accept:'image/*',onChange:handleImage,style:{display:'none'}})
          )
    )
  );
}

// â”€â”€ WORKER FORM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function WorkerForm({worker,workerUser,selfEdit,isAdminForm,adminUser,onSave,onClose}){
  const isEdit=!!worker||!!adminUser;
  const editingAdmin=!!adminUser;
  const [name,setName]=useState(editingAdmin?adminUser.name:(worker?worker.name:''));
  const [username,setUsername]=useState(editingAdmin?adminUser.username:(workerUser?workerUser.username||workerUser.email:''));
  const [phone,setPhone]=useState(worker?worker.phone||'':'');
  const [pw,setPw]=useState('');
  const [pw2,setPw2]=useState('');
  // Security questions removed
  const [workerColor,setWorkerColor]=useState(worker?worker.color||null:null);
  const [err,setErr]=useState('');

  const submit=()=>{
    setErr('');
    if(!selfEdit&&(!name.trim()||!username.trim()))return setErr('Name and username are required.');
    if(!isEdit&&!pw.trim())return setErr('Password is required.');
    if(pw&&pw!==pw2)return setErr('Passwords do not match.');
    onSave({name:name.trim(),username:username.trim(),phone:phone.trim(),password:pw||undefined,workerColor:workerColor||undefined});
  };

  if(selfEdit) return React.createElement(Modal,{title:t('changePassword'),onClose,footer:[
    React.createElement('button',{key:'c',className:'btn btn-ghost',onClick:onClose},t('cancel')),
    React.createElement('button',{key:'s',className:'btn btn-primary',onClick:submit},t('updatePassword')),
  ]},
    err&&React.createElement('p',{style:{color:'var(--red)',fontSize:'13px',marginBottom:'12px',background:'var(--red-dim)',padding:'8px 12px',borderRadius:'var(--r)'}},err),
    React.createElement('div',{className:'form-group'},
      React.createElement('label',{className:'form-label'},t('newPassword')+' *'),
      React.createElement('input',{className:'form-input',type:'password',value:pw,onChange:e=>setPw(e.target.value),placeholder:t('newPwPlaceholder')})),
    React.createElement('div',{className:'form-group'},
      React.createElement('label',{className:'form-label'},t('confirmPw')+' *'),
      React.createElement('input',{className:'form-input',type:'password',value:pw2,onChange:e=>setPw2(e.target.value),placeholder:t('repeatPw')}))
  );

  if(isAdminForm||editingAdmin) return React.createElement(Modal,{title:editingAdmin?'Edit Admin':'Add Admin Account',onClose,footer:[
    React.createElement('button',{key:'c',className:'btn btn-ghost',onClick:onClose},'Cancel'),
    React.createElement('button',{key:'s',className:'btn btn-primary',onClick:submit},editingAdmin?'Save Changes':'Create Admin'),
  ]},
    React.createElement('p',{style:{fontSize:'12px',color:'var(--accent)',background:'var(--accent-dim)',border:'1px solid rgba(224,123,26,.2)',borderRadius:'var(--r)',padding:'8px 12px',marginBottom:'14px'}},'âš ï¸ Admin accounts have full access to everything.'),
    err&&React.createElement('p',{style:{color:'var(--red)',fontSize:'13px',marginBottom:'12px',background:'var(--red-dim)',padding:'8px 12px',borderRadius:'var(--r)'}},err),
    React.createElement('div',{className:'form-group'},
      React.createElement('label',{className:'form-label'},'Full Name *'),
      React.createElement('input',{className:'form-input',value:name,onChange:e=>setName(e.target.value),placeholder:'Admin Name'})),
    React.createElement('div',{className:'form-row'},
      React.createElement('div',{className:'form-group'},
        React.createElement('label',{className:'form-label'},'Username *'),
        React.createElement('input',{className:'form-input',value:username,onChange:e=>setUsername(e.target.value),placeholder:'username'})),
      React.createElement('div',{className:'form-group'},
        React.createElement('label',{className:'form-label'},isEdit?'New Password':'Password *'),
        React.createElement('input',{className:'form-input',type:'password',value:pw,onChange:e=>setPw(e.target.value),placeholder:isEdit?'Leave blank to keep':'Set password'}))),
    React.createElement('div',{className:'form-row'},
      React.createElement('div',{className:'form-group'},
        React.createElement('label',{className:'form-label'},'Confirm Password'),
        React.createElement('input',{className:'form-input',type:'password',value:pw2,onChange:e=>setPw2(e.target.value),placeholder:'Repeat password'})),
      React.createElement('div',{className:'form-group'},{})),
  );

  return React.createElement(Modal,{title:isEdit?'Edit Worker':'Add Worker',onClose,footer:[
    React.createElement('button',{key:'c',className:'btn btn-ghost',onClick:onClose},'Cancel'),
    React.createElement('button',{key:'s',className:'btn btn-primary',onClick:submit},isEdit?'Save Changes':'Create Worker'),
  ]},
    !isEdit&&React.createElement('p',{className:'info-box'},'Create a worker and their login. They\'ll sign in with their username & password.'),
    err&&React.createElement('p',{style:{color:'var(--red)',fontSize:'13px',marginBottom:'12px',background:'var(--red-dim)',padding:'8px 12px',borderRadius:'var(--r)'}},err),
    React.createElement('div',{className:'form-group'},
      React.createElement('label',{className:'form-label'},'Full Name *'),
      React.createElement('input',{className:'form-input',value:name,onChange:e=>setName(e.target.value),placeholder:'Carlos Rivera'})),
    React.createElement('div',{className:'form-row'},
      React.createElement('div',{className:'form-group'},
        React.createElement('label',{className:'form-label'},'Username *'),
        React.createElement('input',{className:'form-input',value:username,onChange:e=>setUsername(e.target.value),placeholder:'e.g. carlos'})),
      React.createElement('div',{className:'form-group'},
        React.createElement('label',{className:'form-label'},'Phone Number'),
        React.createElement('input',{className:'form-input',type:'tel',value:phone,onChange:e=>setPhone(e.target.value),placeholder:'(555) 000-0000'}))),
    React.createElement('div',{className:'form-row'},
      React.createElement('div',{className:'form-group'},
        React.createElement('label',{className:'form-label'},isEdit?'New Password':'Password *'),
        React.createElement('input',{className:'form-input',type:'password',value:pw,onChange:e=>setPw(e.target.value),placeholder:isEdit?'Leave blank to keep':'Set password'})),
      React.createElement('div',{className:'form-group'},
        React.createElement('label',{className:'form-label'},'Confirm'),
        React.createElement('input',{className:'form-input',type:'password',value:pw2,onChange:e=>setPw2(e.target.value),placeholder:'Repeat password'}))),
    isEdit&&React.createElement('p',{className:'form-hint'},'Leave password blank to keep current password.'),
    React.createElement('div',{className:'form-group'},
      React.createElement('label',{className:'form-label'},'Employee Color (shows on calendar)'),
      React.createElement('div',{style:{display:'flex',flexWrap:'wrap',gap:'6px',marginTop:'4px'}},
        ['#3b82f6','#10b981','#f59e0b','#ef4444','#8b5cf6','#06b6d4','#f97316','#ec4899','#14b8a6','#64748b','#dc2626','#7c3aed'].map(c=>
          React.createElement('div',{key:c,onClick:()=>setWorkerColor(c),style:{
            width:'24px',height:'24px',borderRadius:'50%',background:c,cursor:'pointer',
            border:workerColor===c?'3px solid #1a2236':'2px solid transparent',
            boxShadow:workerColor===c?'0 0 0 2px white, 0 0 0 3px '+c:'none',
            flexShrink:0
          }})
        ),
        workerColor&&React.createElement('div',{onClick:()=>setWorkerColor(null),style:{
          width:'24px',height:'24px',borderRadius:'50%',background:'var(--bg4)',cursor:'pointer',
          border:'2px dashed var(--border2)',display:'flex',alignItems:'center',justifyContent:'center',
          fontSize:'12px',color:'var(--text3)',flexShrink:0
        }},'Ã—')
      )
    ),  );
}

// â”€â”€ ASSIGNMENT MODAL (new: worker checklist + task per worker) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function AssignmentModal({assignment,jobs,workers,stages,isAdmin,dispatch,onSave,onDelete,onClose,allAssignments,blockStageName}){
  const job=jobs.find(j=>j.id===assignment.jobId);
  const worker=workers.find(w=>w.id===assignment.workerId);
  const [planned,setPlanned]=useState(assignment.plannedHours);
  const [task,setTask]=useState(assignment.task||'');
  const [notes,setNotes]=useState(assignment.notes||'');
  const [confirm,setConfirm]=useState(false);
  const plannedVal=parseFloat(planned)||assignment.plannedHours;
  // Get stage color from associated block if available
  const relatedBlock=(allAssignments||[]).length>0?null:null; // placeholder
  const c=stageColor(stages,'');

  if(confirm) return React.createElement(Confirm,{
    msg:`Remove ${worker?.name} from ${job?.name||job?.address} on this day?`,
    onConfirm:()=>onDelete(assignment.id),onCancel:()=>setConfirm(false)});

  const footer=[
    isAdmin?React.createElement('button',{key:'del',className:'btn btn-danger btn-sm',onClick:()=>setConfirm(true),style:{marginRight:'auto'}},t('remove')):null,
    React.createElement('button',{key:'c',className:'btn btn-ghost',onClick:onClose},t('cancel')),
    React.createElement('button',{key:'s',className:'btn btn-primary',onClick:()=>onSave(assignment.id,{plannedHours:isAdmin?plannedVal:assignment.plannedHours,task,notes:isAdmin?notes:assignment.notes})},t('save')),
  ].filter(Boolean);

  const locale=LANG==='es'?'es-MX':'en-US';
  const stgForTask=blockStageName||assignment.stage||'';
  return React.createElement(Modal,{title:(job?.name||job?.address||'Assignment')+' â€” '+t('edit'),onClose,footer},
    React.createElement('div',{style:{display:'flex',alignItems:'center',gap:'8px',marginBottom:'4px',flexWrap:'wrap'}},
      React.createElement('span',{style:{fontWeight:800,fontSize:'16px'}},job?.name||job?.address),
      stgForTask?React.createElement('span',{style:{fontSize:'11px',fontWeight:700,padding:'2px 8px',borderRadius:'20px',background:'var(--blue-dim)',color:'var(--blue)'}},stgForTask):null
    ),
    React.createElement('div',{style:{color:'var(--text2)',fontSize:'12px',marginBottom:'16px'}},
      worker?.name,' Â· ',new Date(assignment.scheduledDate+'T12:00:00').toLocaleDateString(locale,{weekday:'long',month:'short',day:'numeric'})),
    React.createElement('div',{className:'form-group'},
      React.createElement('label',{className:'form-label'},'â° Planned Hours'),
      isAdmin
        ?React.createElement('input',{className:'form-input',type:'number',min:.5,step:.5,value:planned,onChange:e=>setPlanned(e.target.value)})
        :React.createElement('div',{style:{background:'var(--blue-dim)',border:'1px solid rgba(37,99,235,.2)',borderRadius:'var(--r)',padding:'10px 14px',fontFamily:'DM Mono',fontSize:'22px',fontWeight:800,color:'var(--blue)'}},plannedVal+'h')),
    React.createElement('div',{className:'form-group'},
      React.createElement('label',{className:'form-label'},'ğŸ“ Admin Notes'),
      isAdmin
        ?React.createElement('textarea',{className:'form-textarea',value:notes,onChange:e=>setNotes(e.target.value),style:{minHeight:'56px'},placeholder:'Instructions for this workerâ€¦'})
        :(notes
            ?React.createElement('div',{style:{background:'var(--yellow-dim)',border:'1px solid rgba(217,119,6,.2)',borderRadius:'var(--r)',padding:'10px 12px',fontSize:'13px',lineHeight:'1.5'}},notes)
            :React.createElement('div',{style:{color:'var(--text3)',fontSize:'12px',fontStyle:'italic'}},'No notes from admin'))),
    React.createElement(TaskDropdown,{job,value:task,onChange:setTask,isAdmin,stages,stageName:stgForTask})
  );
}

// â”€â”€ NEW: DROP-ONTO-CALENDAR MODAL (admin drops a project onto a cell) â”€â”€â”€â”€â”€â”€â”€â”€â”€
// This opens when admin drops a project card onto a day cell to pick workers + tasks
function ProjectDropModal({jobId,date,jobs,workers,stages,assignMap,dispatch,toast,onClose}){
  const job=jobs.find(j=>j.id===jobId);
  // Get stage color from associated block if available
  const relatedBlock=(allAssignments||[]).length>0?null:null; // placeholder
  const c=stageColor(stages,'');
  const jc=jobColor(job?.colorIdx);
  const existing=(assignMap[`${jobId}_${date}`]||[]);
  const existingWorkerIds=new Set(existing.map(a=>a.workerId));
  const activeWorkers=workers.filter(w=>w.isActive);

  // selected: [{workerId, task, hours}]
  const [selected,setSelected]=useState([]);

  const toggle=(wId)=>{
    if(existingWorkerIds.has(wId)) return; // already assigned, skip
    setSelected(s=>s.find(x=>x.workerId===wId)?s.filter(x=>x.workerId!==wId):[...s,{workerId:wId,task:'',hours:8}]);
  };
  const setWorkerField=(wId,field,val)=>{
    setSelected(s=>s.map(x=>x.workerId===wId?{...x,[field]:val}:x));
  };
  const isSelected=(wId)=>selected.some(x=>x.workerId===wId);

  const save=()=>{
    if(!selected.length){onClose();return;}
    selected.forEach(sel=>{
      dispatch({type:'ADD_ASSIGNMENT',assignment:{
        id:genId(),jobId,workerId:sel.workerId,scheduledDate:date,
        plannedHours:parseFloat(sel.hours)||8,task:sel.task,notes:''
      }});
    });
    toast(`Assigned ${selected.length} worker(s) â€” click to edit details`,'success');
    onClose();
  };

  const dateLabel=new Date(date+'T12:00:00').toLocaleDateString('en-US',{weekday:'long',month:'short',day:'numeric'});

  return React.createElement(Modal,{title:'Assign Workers',onClose,wide:true,footer:[
    React.createElement('button',{key:'c',className:'btn btn-ghost',onClick:onClose},'Cancel'),
    React.createElement('button',{key:'s',className:'btn btn-primary',onClick:save},selected.length?`Assign ${selected.length} Worker(s)`:'Done (no new workers)'),
  ]},
    React.createElement('div',{style:{background:jc.bg,border:`1px solid ${jc.text}22`,borderRadius:'var(--r)',padding:'10px 14px',marginBottom:'16px',display:'flex',alignItems:'center',gap:'8px'}},
      React.createElement('span',{style:{fontWeight:800,fontSize:'15px',color:jc.text}},job?.name||job?.address),
      React.createElement('span',{className:'stage-pill',style:{background:c.bg,color:c.text,border:`1px solid ${c.border}`}},job?.stage),
      React.createElement('span',{style:{fontSize:'12px',color:'var(--text2)',marginLeft:'auto'}},dateLabel)),
    existing.length>0&&React.createElement('div',{style:{fontSize:'12px',color:'var(--text3)',marginBottom:'10px',background:'var(--bg3)',padding:'8px 12px',borderRadius:'var(--r)'}},
      'âš  Already assigned: ',existing.map(a=>workers.find(w=>w.id===a.workerId)?.name||'?').join(', ')),
    React.createElement('div',{style:{fontSize:'11px',fontWeight:700,textTransform:'uppercase',letterSpacing:'.5px',color:'var(--text2)',marginBottom:'8px'}},'Check workers to assign:'),
    React.createElement('div',{className:'worker-checklist'},
      activeWorkers.map(w=>{
        const alreadyOn=existingWorkerIds.has(w.id);
        const sel=selected.find(x=>x.workerId===w.id);
        return React.createElement('div',{key:w.id,className:'worker-check-item'+(isSelected(w.id)?' checked':''),style:alreadyOn?{opacity:.5,cursor:'not-allowed'}:{}},
          React.createElement('input',{type:'checkbox',checked:alreadyOn||isSelected(w.id),disabled:alreadyOn,onChange:()=>!alreadyOn&&toggle(w.id)}),
          React.createElement('span',{className:'worker-check-name'},w.name,alreadyOn&&React.createElement('span',{style:{fontSize:'10px',color:'var(--text3)',marginLeft:'5px'}},'(already on)')),
          isSelected(w.id)&&React.createElement('input',{type:'number',min:.5,step:.5,value:sel.hours,onChange:e=>setWorkerField(w.id,'hours',e.target.value),style:{width:'55px',marginLeft:'8px',border:'1px solid var(--border)',borderRadius:'5px',padding:'3px 6px',fontSize:'12px',background:'var(--bg2)'},title:'Hours'}),
          isSelected(w.id)&&(job?.tasks||[]).length>0&&React.createElement('select',{className:'worker-task-sel',value:sel.task,onChange:e=>setWorkerField(w.id,'task',e.target.value)},
            React.createElement('option',{value:''},'Taskâ€¦'),
            (job.tasks||[]).map((t,i)=>React.createElement('option',{key:i,value:t},t)))
        );
      })
    )
  );
}

// â”€â”€ IMPORT / EXPORT PANEL (subtler) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function ImportExportPanel({data,dispatch,toast}){
  const fileRef=useRef();
  const [showCode,setShowCode]=useState(false);
  const [importCode,setImportCode]=useState('');
  const [showImportCode,setShowImportCode]=useState(false);

  const doExport=()=>{
    const json=JSON.stringify(data,null,2);
    const blob=new Blob([json],{type:'application/json'});
    const url=URL.createObjectURL(blob);
    const a=document.createElement('a');
    a.href=url;a.download=`anaya-data-${getToday()}.json`;a.click();
    URL.revokeObjectURL(url);
    toast('Data exported!','success');
  };
  const doImport=e=>{
    const file=e.target.files[0];if(!file)return;
    const reader=new FileReader();
    reader.onload=ev=>{
      try{
        const parsed=JSON.parse(ev.target.result);
        if(!parsed.jobs||!parsed.workers||!parsed.users)throw new Error('Invalid file');
        dispatch({type:'IMPORT_DATA',data:parsed});
        toast('Data imported successfully!','success');
      }catch(err){toast('Invalid data file â€” could not import.','error');}
    };
    reader.readAsText(file);e.target.value='';
  };

  // Share code: base64-encode compressed schedule data for copy-paste sync
  const genShareCode=()=>{
    try{
      const shareData={jobs:data.jobs,workers:data.workers,stages:data.stages,assignments:data.assignments,scheduleBlocks:data.scheduleBlocks||[]};
      const code=btoa(JSON.stringify(shareData));
      setShowCode(code);
    }catch(e){toast('Could not generate code','error');}
  };
  const applyImportCode=()=>{
    try{
      const parsed=JSON.parse(atob(importCode.trim()));
      if(!parsed.jobs||!parsed.workers)throw new Error('bad');
      dispatch({type:'IMPORT_DATA',data:{...data,...parsed,scheduleBlocks:parsed.scheduleBlocks||data.scheduleBlocks||[]}});
      toast('Schedule synced!','success');setShowImportCode(false);setImportCode('');
    }catch(e){toast('Invalid sync code','error');}
  };

  return React.createElement('div',null,
    React.createElement('div',{className:'ie-panel'},
      React.createElement('span',{className:'ie-panel-title'},'ğŸ’¾ Backup / Restore:'),
      React.createElement('div',{className:'ie-row'},
        React.createElement('button',{className:'btn btn-ghost btn-sm',onClick:doExport},'â¬‡ Export'),
        React.createElement('button',{className:'btn btn-ghost btn-sm',onClick:()=>fileRef.current.click()},'â¬† Import'),
        React.createElement('button',{className:'btn btn-ghost btn-sm',onClick:genShareCode},'ğŸ“‹ Share Code'),
        React.createElement('button',{className:'btn btn-ghost btn-sm',onClick:()=>setShowImportCode(s=>!s)},'ğŸ“¥ Load Code'),
        React.createElement('input',{ref:fileRef,type:'file',accept:'.json',style:{display:'none'},onChange:doImport})
      )
    ),
    showCode&&React.createElement('div',{style:{background:'var(--bg3)',border:'1px solid var(--border)',borderRadius:'var(--r)',padding:'12px',marginBottom:'12px'}},
      React.createElement('p',{style:{fontSize:'12px',fontWeight:700,color:'var(--text2)',marginBottom:'6px'}},'ğŸ“‹ Share this code with employees so they can load the latest schedule:'),
      React.createElement('textarea',{readOnly:true,value:showCode,style:{width:'100%',height:'70px',fontSize:'10px',fontFamily:'DM Mono',background:'var(--bg4)',border:'1px solid var(--border)',borderRadius:'5px',padding:'6px',resize:'none',color:'var(--text2)'},onClick:e=>e.target.select()}),
      React.createElement('div',{style:{display:'flex',gap:'8px',marginTop:'6px'}},
        React.createElement('button',{className:'btn btn-primary btn-sm',onClick:()=>{navigator.clipboard?.writeText(showCode).then(()=>toast('Code copied!','success'));}},
          'ğŸ“‹ Copy to Clipboard'),
        React.createElement('button',{className:'btn btn-ghost btn-sm',onClick:()=>setShowCode(null)},'Close'))),
    showImportCode&&React.createElement('div',{style:{background:'var(--bg3)',border:'1px solid var(--border)',borderRadius:'var(--r)',padding:'12px',marginBottom:'12px'}},
      React.createElement('p',{style:{fontSize:'12px',fontWeight:700,color:'var(--text2)',marginBottom:'6px'}},'ğŸ“¥ Paste the share code from your admin:'),
      React.createElement('textarea',{value:importCode,onChange:e=>setImportCode(e.target.value),style:{width:'100%',height:'70px',fontSize:'10px',fontFamily:'DM Mono',background:'var(--bg4)',border:'1px solid var(--border)',borderRadius:'5px',padding:'6px',resize:'none',color:'var(--text)'},placeholder:'Paste code hereâ€¦'}),
      React.createElement('div',{style:{display:'flex',gap:'8px',marginTop:'6px'}},
        React.createElement('button',{className:'btn btn-primary btn-sm',onClick:applyImportCode},'Load Schedule'),
        React.createElement('button',{className:'btn btn-ghost btn-sm',onClick:()=>{setShowImportCode(false);setImportCode('');}},'Cancel')))
  );
}

// â”€â”€ JOBS PAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function JobsPage({data,isAdmin,dispatch,toast}){
  const [showForm,setShowForm]=useState(false);
  const [editJob,setEditJob]=useState(null);
  const [confirmDel,setConfirmDel]=useState(null);
  const [viewImg,setViewImg]=useState(null);
  const handleSave=form=>{
    if(editJob){dispatch({type:'UPDATE_JOB',id:editJob.id,data:form});toast(t('jobUpdated'),'success');setEditJob(null);}
    else{dispatch({type:'ADD_JOB',job:{...form,id:genId(),tasks:[],status:'active'}});toast(t('jobCreated'),'success');setShowForm(false);}
  };
  // Only show active jobs on Jobs page
  const activeJobs=data.jobs.filter(j=>!j.status||j.status==='active');

  return React.createElement('div',{className:'page'},
    React.createElement('div',{className:'page-header'},
      React.createElement('div',{className:'page-title'},t('jobs')),
      React.createElement('div',{style:{display:'flex',gap:'8px'}},
        isAdmin&&React.createElement('button',{className:'btn btn-primary',onClick:()=>setShowForm(true)},t('newJob')))),
    isAdmin&&React.createElement(ImportExportPanel,{data,dispatch,toast}),
    activeJobs.length===0
      ?React.createElement('div',{className:'empty-state'},
          React.createElement('div',{className:'empty-icon'},'ğŸ '),
          React.createElement('div',{className:'empty-text'},'No jobs yet'),
          React.createElement('div',{className:'empty-sub'},'Create your first job to get started'))
      :React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:'10px'}},
          activeJobs.map(job=>{
            const jc=jobColor(job.colorIdx);
            return React.createElement('div',{key:job.id,className:'card'},
              React.createElement('div',{style:{width:'4px',background:jc.text,position:'absolute',left:0,top:0,bottom:0,borderRadius:'12px 0 0 12px'}}),
              React.createElement('div',{style:{padding:'14px 16px'}},
                React.createElement('div',{style:{display:'flex',alignItems:'flex-start',justifyContent:'space-between',gap:'12px',flexWrap:'wrap'}},
                  React.createElement('div',{style:{flex:1}},
                    React.createElement('div',{style:{display:'flex',alignItems:'center',gap:'8px',marginBottom:'3px',flexWrap:'wrap'}},
                      React.createElement('div',{style:{width:'10px',height:'10px',borderRadius:'50%',background:jc.text,flexShrink:0}}),
                      React.createElement('span',{style:{fontSize:'15px',fontWeight:800}},job.name||job.address),

                      job.customerName&&React.createElement('span',{className:'tag'},job.customerName),
                      isAdmin&&job.estimateRef&&React.createElement('span',{className:'tag',style:{background:'var(--accent-dim)',color:'var(--accent)'}},'Est: '+job.estimateRef)),
                    React.createElement('div',{style:{fontSize:'12px',color:'var(--text2)',marginBottom:'3px'}},job.address),
                    job.summary&&React.createElement('div',{style:{fontSize:'12px',color:'var(--text3)',fontStyle:'italic'}},job.summary)),
                  React.createElement('div',{style:{display:'flex',alignItems:'flex-start',gap:'8px',flexShrink:0}},
                    job.imageB64?React.createElement('img',{src:job.imageB64,style:{width:'70px',height:'50px',objectFit:'cover',borderRadius:'8px',border:'2px solid var(--border)',flexShrink:0,cursor:'pointer'},onClick:()=>setViewImg(job.imageB64)}):null,
                    isAdmin?React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:'4px',alignItems:'flex-end'}},
                      React.createElement('div',{style:{display:'flex',gap:'4px',flexWrap:'wrap',justifyContent:'flex-end'}},
                        React.createElement('button',{className:'btn btn-ghost btn-sm',style:{fontSize:'11px'},onClick:()=>dispatch({type:'SET_JOB_STATUS',id:job.id,status:'contracted'})},t('markContracted')),
                        React.createElement('button',{className:'btn btn-green btn-sm',style:{fontSize:'11px'},onClick:()=>dispatch({type:'SET_JOB_STATUS',id:job.id,status:'completed'})},t('markCompleted'))),
                      React.createElement('div',{style:{display:'flex',gap:'4px'}},
                        React.createElement('button',{className:'btn btn-ghost btn-sm',onClick:()=>setEditJob(job)},t('edit')),
                        React.createElement('button',{className:'btn btn-danger btn-sm',onClick:()=>setConfirmDel(job)},t('delete')))
                    ):null
                  )
                ),
                React.createElement('div',{style:{display:'grid',gridTemplateColumns:'repeat(2,1fr)',gap:'8px',marginTop:'12px',maxWidth:'380px'}},
                  React.createElement('div',{className:'detail-stat'},
                    React.createElement('div',{className:'detail-stat-label'},'ğŸ“… Est. Days'),
                    React.createElement('div',{className:'detail-stat-value'},job.estimatedDays+(job.estimatedDays===1?' day':' days'))),
                  job.sqft&&React.createElement('div',{className:'detail-stat'},
                    React.createElement('div',{className:'detail-stat-label'},'ğŸ“ Square Footage'),
                    React.createElement('div',{className:'detail-stat-value accent'},Number(job.sqft).toLocaleString()+' sqft'))),
                // â”€â”€ SCHEDULE ACTIVITY PANEL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                (()=>{
                  const jobBlocks=(data.scheduleBlocks||[]).filter(b=>b.jobId===job.id);
                  if(jobBlocks.length===0) return null;
                  // Group by stage: {stageName: {days, workerIds:Set}}
                  const stageMap={};
                  jobBlocks.forEach(b=>{
                    const sn=b.stage||'Unknown';
                    if(!stageMap[sn]) stageMap[sn]={days:0,workerIds:new Set()};
                    stageMap[sn].days+=Math.ceil(b.estimatedDays||1);
                    // Collect all workers assigned to this block
                    const blockAssigns=(data.assignments||[]).filter(a=>a.blockId===b.id);
                    blockAssigns.forEach(a=>stageMap[sn].workerIds.add(a.workerId));
                  });
                  const stageEntries=Object.entries(stageMap);
                  return React.createElement('div',{style:{marginTop:'14px',padding:'12px 14px',background:'var(--bg3)',border:'1px solid var(--border)',borderRadius:'10px'}},
                    React.createElement('div',{style:{fontSize:'10px',fontWeight:800,textTransform:'uppercase',letterSpacing:'.6px',color:'var(--text3)',marginBottom:'10px'}},'ğŸ“… Schedule Activity'),
                    React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:'8px'}},
                      stageEntries.map(([stageName,{days,workerIds}])=>{
                        const stg=data.stages.find(s=>s.name===stageName);
                        const sHex=stg?stg.colorHex||stg.color?.text||'#6366f1':'#6366f1';
                        const workerList=[...workerIds].map(wid=>{
                          const w=data.workers.find(x=>x.id===wid);
                          return w||null;
                        }).filter(Boolean);
                        return React.createElement('div',{key:stageName,style:{display:'flex',alignItems:'flex-start',gap:'10px',padding:'8px 10px',background:'var(--bg2)',border:'1px solid '+sHex+'33',borderRadius:'8px',borderLeft:'3px solid '+sHex}},
                          React.createElement('div',{style:{flex:1}},
                            React.createElement('div',{style:{display:'flex',alignItems:'center',gap:'6px',marginBottom:'5px'}},
                              React.createElement('div',{style:{width:'8px',height:'8px',borderRadius:'50%',background:sHex,flexShrink:0}}),
                              React.createElement('span',{style:{fontWeight:700,fontSize:'12px',color:sHex}},trStage(stageName)),
                              React.createElement('span',{style:{fontSize:'11px',color:'var(--text3)',marginLeft:'2px'}},days+(days===1?' day':' days'))
                            ),
                            workerList.length>0
                              ? React.createElement('div',{style:{display:'flex',flexWrap:'wrap',gap:'5px'}},
                                  workerList.map(w=>React.createElement('div',{key:w.id,style:{display:'flex',alignItems:'center',gap:'4px',background:w.color?w.color+'18':'var(--bg3)',border:'1px solid '+(w.color?w.color+'44':'var(--border)'),borderRadius:'20px',padding:'2px 8px'}},
                                    React.createElement('div',{style:{width:'6px',height:'6px',borderRadius:'50%',background:w.color||'var(--text3)',flexShrink:0}}),
                                    React.createElement('span',{style:{fontSize:'11px',fontWeight:600,color:'var(--text)'}},w.name)
                                  ))
                                )
                              : React.createElement('span',{style:{fontSize:'11px',color:'var(--text3)',fontStyle:'italic'}},'No workers assigned')
                          )
                        );
                      })
                    )
                  );
                })()
              )
          );
          })),
    showForm&&React.createElement(JobForm,{stages:data.stages,isAdmin,onSave:handleSave,onClose:()=>setShowForm(false)}),
    editJob&&React.createElement(JobForm,{job:editJob,stages:data.stages,isAdmin,onSave:handleSave,onClose:()=>setEditJob(null)}),
    confirmDel&&React.createElement(Confirm,{
      msg:t('delete')+' '+(confirmDel.name||confirmDel.address)+'?',
      onConfirm:()=>{dispatch({type:'DELETE_JOB',id:confirmDel.id});toast(t('jobDeleted'),'success');setConfirmDel(null);},
      onCancel:()=>setConfirmDel(null)}),
    viewImg?React.createElement('div',{
      onClick:()=>setViewImg(null),
      style:{position:'fixed',inset:0,background:'rgba(0,0,0,.75)',zIndex:9999,display:'flex',alignItems:'center',justifyContent:'center',cursor:'zoom-out'}
    },React.createElement('img',{src:viewImg,style:{maxWidth:'90vw',maxHeight:'90vh',borderRadius:'12px',boxShadow:'0 8px 40px rgba(0,0,0,.6)'}})):null
  );
}

// â”€â”€ WORKERS PAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function WorkersPage({data,isAdmin,dispatch,toast}){
  const [showForm,setShowForm]=useState(false);
  const [editWorker,setEditWorker]=useState(null);
  const [showAddAdmin,setShowAddAdmin]=useState(false);
  const [editAdmin,setEditAdmin]=useState(null);
  const [confirmDelAdmin,setConfirmDelAdmin]=useState(null);

  const adminUsers=data.users.filter(u=>u.role==='ADMIN');
  const workerUsers=data.workers;

  const handleSaveWorker=form=>{
    if(editWorker){
      dispatch({type:'UPDATE_WORKER',id:editWorker.id,data:{name:form.name,phone:form.phone||'',isActive:true,color:form.workerColor||null}});
      const lu=data.users.find(u=>u.workerId===editWorker.id);
      if(lu){const u={name:form.name,username:form.username};if(form.password)u.password=form.password;if(form.securityQuestion)u.securityQuestion=form.securityQuestion;if(form.securityAnswer)u.securityAnswer=form.securityAnswer.toLowerCase();dispatch({type:'UPDATE_USER',id:lu.id,data:u});}
      toast('Worker updated','success');setEditWorker(null);
    } else {
      const wId=genId();
      dispatch({type:'ADD_WORKER',worker:{id:wId,name:form.name,phone:form.phone||'',isActive:true,color:form.workerColor||null}});
      dispatch({type:'ADD_USER',user:{id:genId(),username:form.username,password:form.password,name:form.name,role:'WORKER',workerId:wId,securityQuestion:form.securityQuestion||'',securityAnswer:(form.securityAnswer||'').toLowerCase()}});
      toast('Worker created','success');setShowForm(false);
    }
  };

  const handleSaveAdmin=form=>{
    if(editAdmin){
      const u={name:form.name,username:form.username};
      if(form.password)u.password=form.password;
      if(form.securityQuestion)u.securityQuestion=form.securityQuestion;
      if(form.securityAnswer)u.securityAnswer=form.securityAnswer.toLowerCase();
      dispatch({type:'UPDATE_USER',id:editAdmin.id,data:u});
      toast('Admin updated','success');setEditAdmin(null);
    } else {
      dispatch({type:'ADD_USER',user:{id:genId(),username:form.username,password:form.password,name:form.name,role:'ADMIN',securityQuestion:form.securityQuestion||'',securityAnswer:(form.securityAnswer||'').toLowerCase()}});
      toast('Admin account created','success');setShowAddAdmin(false);
    }
  };

  const handleDelAdmin=admin=>{
    if(adminUsers.length<=1){toast('Cannot delete the last admin','error');return;}
    dispatch({type:'DELETE_USER',id:admin.id});toast('Admin deleted','success');setConfirmDelAdmin(null);
  };

  const adminTable=React.createElement('div',{className:'card'},
    React.createElement('table',{className:'table'},
      React.createElement('thead',null,
        React.createElement('tr',null,
          React.createElement('th',null,'Name'),
          React.createElement('th',null,'Username'),
          React.createElement('th',null,'Password'),
          React.createElement('th',null,'Actions')
        )
      ),
      React.createElement('tbody',null,
        adminUsers.map(u=>React.createElement('tr',{key:u.id},
          React.createElement('td',null,React.createElement('span',{style:{fontWeight:700}},u.name)),
          React.createElement('td',null,React.createElement('span',{className:'mono',style:{color:'var(--accent)'}},u.username)),
          React.createElement('td',null,React.createElement('span',{className:'mono',style:{color:'var(--text3)',fontSize:'11px',background:'var(--bg3)',padding:'2px 6px',borderRadius:'4px'}},u.password||'â€”')),
          React.createElement('td',null,
            React.createElement('div',{style:{display:'flex',gap:'6px'}},
              React.createElement('button',{className:'btn btn-ghost btn-sm',onClick:()=>setEditAdmin(u)},'Edit'),
              adminUsers.length>1
                ? React.createElement('button',{className:'btn btn-danger btn-sm',onClick:()=>setConfirmDelAdmin(u)},'Del')
                : null
            )
          )
        ))
      )
    )
  );

  const workerTable=workerUsers.length===0
    ? React.createElement('div',{className:'empty-state'},
        React.createElement('div',{className:'empty-icon'},'ğŸ‘·'),
        React.createElement('div',{className:'empty-text'},'No workers yet')
      )
    : React.createElement('div',{className:'card'},
        React.createElement('table',{className:'table'},
          React.createElement('thead',null,
            React.createElement('tr',null,
              React.createElement('th',null,'Name'),
              React.createElement('th',{style:{width:'48px',textAlign:'center'}},'Color'),
              React.createElement('th',null,'Username'),
              React.createElement('th',null,'Phone'),
              React.createElement('th',null,'Password'),
              React.createElement('th',null,'Actions')
            )
          ),
          React.createElement('tbody',null,
            workerUsers.map(w=>{
              const user=data.users.find(u=>u.workerId===w.id);
              return React.createElement('tr',{key:w.id},
                React.createElement('td',null,React.createElement('span',{style:{fontWeight:700}},w.name)),
                React.createElement('td',{style:{textAlign:'center'}},
                  w.color
                    ? React.createElement('div',{style:{
                        width:'22px',height:'22px',borderRadius:'50%',
                        background:w.color,margin:'0 auto',
                        boxShadow:'0 0 0 3px white, 0 0 0 4px '+w.color,
                        border:'2px solid rgba(255,255,255,0.8)'
                      }})
                    : React.createElement('span',{style:{color:'var(--text3)',fontSize:'11px'}},'â€”')
                ),
                React.createElement('td',null,React.createElement('span',{className:'mono',style:{color:'var(--text2)'}},user?user.username:'â€”')),
                React.createElement('td',null,React.createElement('span',{className:'mono',style:{color:'var(--text2)'}},w.phone||'â€”')),
                React.createElement('td',null,React.createElement('span',{className:'mono',style:{color:'var(--text3)',fontSize:'11px',background:'var(--bg3)',padding:'2px 6px',borderRadius:'4px'}},user?user.password:'â€”')),
                React.createElement('td',null,React.createElement('button',{className:'btn btn-ghost btn-sm',onClick:()=>setEditWorker(w)},'Edit'))
              );
            })
          )
        )
      );

  return React.createElement('div',{className:'page'},
    React.createElement('div',{style:{marginBottom:'28px'}},
      React.createElement('div',{className:'page-header',style:{marginBottom:'10px'}},
        React.createElement('div',{className:'admin-section-hdr',style:{margin:0}},'ğŸ” Admin Accounts'),
        React.createElement('button',{className:'btn btn-sm',style:{background:'var(--accent)',color:'#fff',border:'none'},onClick:()=>setShowAddAdmin(true)},'+ Add Admin')
      ),
      adminTable
    ),
    React.createElement('div',null,
      React.createElement('div',{className:'page-header',style:{marginBottom:'10px'}},
        React.createElement('div',{className:'workers-section-hdr',style:{margin:0}},'ğŸ‘· Employees  '+workerUsers.length),
        React.createElement('button',{className:'btn btn-primary',onClick:()=>setShowForm(true)},'+ Add Worker')
      ),
      workerTable
    ),
    showForm ? React.createElement(WorkerForm,{onSave:handleSaveWorker,onClose:()=>setShowForm(false)}) : null,
    editWorker ? React.createElement(WorkerForm,{worker:editWorker,workerUser:data.users.find(u=>u.workerId===editWorker.id),onSave:handleSaveWorker,onClose:()=>setEditWorker(null)}) : null,
    showAddAdmin ? React.createElement(WorkerForm,{isAdminForm:true,onSave:handleSaveAdmin,onClose:()=>setShowAddAdmin(false)}) : null,
    editAdmin ? React.createElement(WorkerForm,{adminUser:editAdmin,isAdminForm:true,onSave:handleSaveAdmin,onClose:()=>setEditAdmin(null)}) : null,
    confirmDelAdmin ? React.createElement(Confirm,{
      msg:'Delete admin account for '+confirmDelAdmin.name+'?',
      onConfirm:()=>handleDelAdmin(confirmDelAdmin),
      onCancel:()=>setConfirmDelAdmin(null)
    }) : null
  );
}

// â”€â”€ CELL DETAIL MODAL (click a cell to see job/workers/tasks) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function CellDetailModal({job,date,assignments,workers,stages,isAdmin,dispatch,toast,onClose}){
  const [editAssign,setEditAssign]=useState(null);
  const c=stageColor(stages,job?job.stage:'');
  const jc=jobColor(job?job.colorIdx:0);
  const locale=LANG==='es'?'es-MX':'en-US';
  const dateLabel=new Date(date+'T12:00:00').toLocaleDateString(locale,{weekday:'long',month:'long',day:'numeric'});
  const [confirm,setConfirm]=useState(null);

  if(editAssign) return React.createElement(AssignmentModal,{
    assignment:editAssign,jobs:[job],workers,stages,isAdmin,dispatch,allAssignments:assignments,
    blockStageName:block?block.stage:null,
    onSave:(id,updates)=>{dispatch({type:'UPDATE_ASSIGNMENT',id,data:updates});toast(t('saved'),'success');setEditAssign(null);},
    onDelete:(id)=>{dispatch({type:'DELETE_ASSIGNMENT',id});toast(t('removed'),'success');setEditAssign(null);},
    onClose:()=>setEditAssign(null)
  });

  if(confirm) return React.createElement(Confirm,{
    msg:'Remove '+confirm.workerName+' from this day?',
    onConfirm:()=>{dispatch({type:'DELETE_ASSIGNMENT',id:confirm.id});toast('Removed','success');setConfirm(null);onClose();},
    onCancel:()=>setConfirm(null)
  });

  const footer=[React.createElement('button',{key:'c',className:'btn btn-ghost',onClick:onClose},'Close')];

  return React.createElement(Modal,{title:job?job.name||job.address:'Assignment',onClose,footer,wide:true},
    React.createElement('div',{style:{background:jc.bg,border:'1px solid '+jc.text+'33',borderRadius:'var(--r)',padding:'10px 14px',marginBottom:'14px'}},
      React.createElement('div',{style:{display:'flex',alignItems:'center',gap:'8px',flexWrap:'wrap'}},
        React.createElement('span',{style:{fontWeight:800,fontSize:'15px',color:jc.text}},job?job.name||job.address:''),
        React.createElement('span',{className:'stage-pill',style:{background:c.bg,color:c.text,border:'1px solid '+c.border}},job?job.stage:''),
        React.createElement('span',{style:{fontSize:'12px',color:'var(--text2)',marginLeft:'auto'}},dateLabel)),
      job&&job.address&&React.createElement('div',{style:{fontSize:'12px',color:'var(--text3)',marginTop:'3px'}},job.address)
    ),
    React.createElement('div',{style:{fontSize:'11px',fontWeight:700,textTransform:'uppercase',letterSpacing:'.5px',color:'var(--text2)',marginBottom:'8px'}},'Assigned Workers'),
    assignments.length===0
      ? React.createElement('div',{style:{color:'var(--text3)',fontSize:'13px',fontStyle:'italic'}},'No workers assigned on this day')
      : React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:'8px'}},
          assignments.map(a=>{
            const w=workers.find(x=>x.id===a.workerId);
            const wColor=w&&w.color?w.color:'#6b7280';
            return React.createElement('div',{key:a.id,style:{background:'var(--bg3)',border:'1px solid var(--border)',borderRadius:'var(--r)',padding:'10px 12px',display:'flex',alignItems:'flex-start',gap:'10px'}},
              React.createElement('div',{style:{width:'10px',height:'10px',borderRadius:'50%',background:wColor,marginTop:'4px',flexShrink:0}}),
              React.createElement('div',{style:{flex:1}},
                React.createElement('div',{style:{fontWeight:700,fontSize:'14px',color:'var(--text)'}},w?w.name:'Unknown'),
                React.createElement('div',{style:{fontSize:'12px',color:'var(--text2)',marginTop:'2px'}},
                  a.plannedHours+'h',
                  a.task?React.createElement('span',{style:{marginLeft:'8px',background:'var(--blue-dim)',color:'var(--blue)',padding:'1px 7px',borderRadius:'20px',fontSize:'11px'}},trTask(a.task)):null),
                a.notes?React.createElement('div',{style:{fontSize:'12px',color:'var(--text3)',marginTop:'4px',fontStyle:'italic'}},a.notes):null
              ),
              isAdmin?React.createElement('button',{className:'btn btn-ghost btn-sm',onClick:()=>setEditAssign(a),style:{fontSize:'11px'}},'Edit'):null
            );
          })
        )
  );
}

// â”€â”€ HELPERS for month view â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function getMonthStart(y,m){return new Date(y,m,1);}
function daysInMonth(y,m){return new Date(y,m+1,0).getDate();}
// Returns all calendar dates for a month grid (Mon-start, padded with prev/next)
function monthGridDates(y,m){
  const first=new Date(y,m,1);
  // Day of week Mon=0..Sun=6
  let dow=first.getDay()-1; if(dow<0)dow=6;
  const total=daysInMonth(y,m);
  const dates=[];
  for(let i=0;i<dow;i++){const d=new Date(y,m,1-dow+i);dates.push({date:d,cur:false});}
  for(let i=1;i<=total;i++)dates.push({date:new Date(y,m,i),cur:true});
  while(dates.length%7!==0){const d=new Date(y,m+1,dates.length-dow-total+1);dates.push({date:d,cur:false});}
  return dates;
}

// â”€â”€ DROP BLOCK MODAL: when admin drops a project onto a day â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function DropBlockModal({jobId,startDate,jobs,workers,stages,scheduleBlocks,assignMap,dispatch,toast,onClose}){
  const job=jobs.find(j=>j.id===jobId);
  const jc=jobColor(job?job.colorIdx:0);

  const [blockStage,setBlockStage]=useState(job?job.stage:(stages[0]?stages[0].name:'Prep'));
  const [blockDays,setBlockDays]=useState(job?job.estimatedDays:1);
  const [selected,setSelected]=useState([]);
  const activeWorkers=workers.filter(w=>w.isActive);

  // tasks from chosen stage
  const stageObj=stages.find(s=>s.name===blockStage);
  const stageTasks=stageObj?stageObj.tasks||[]:[];

  const toggle=(wId)=>{
    setSelected(s=>s.find(x=>x.workerId===wId)?s.filter(x=>x.workerId!==wId):[...s,{workerId:wId,task:'',hours:8}]);
  };
  const setWF=(wId,field,val)=>setSelected(s=>s.map(x=>x.workerId===wId?{...x,[field]:val}:x));
  const isSel=(wId)=>selected.some(x=>x.workerId===wId);

  const save=()=>{
    const bId=genId();
    dispatch({type:'ADD_BLOCK',block:{id:bId,jobId,startDate,estimatedDays:parseFloat(blockDays)||1,stage:blockStage,colorIdx:job?job.colorIdx:0}});
    selected.forEach(sel=>{
      dispatch({type:'ADD_ASSIGNMENT',assignment:{id:genId(),jobId,blockId:bId,workerId:sel.workerId,scheduledDate:startDate,plannedHours:parseFloat(sel.hours)||8,task:sel.task,notes:''}});
    });
    toast('Block added'+(selected.length?' with '+selected.length+' worker(s)':''),'success');
    onClose();
  };

  const c=stageColor(stages,blockStage);
  const dateLabel=new Date(startDate+'T12:00:00').toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric'});

  return React.createElement(Modal,{title:'Schedule Block',onClose,wide:true,footer:[
    React.createElement('button',{key:'c',className:'btn btn-ghost',onClick:onClose},'Cancel'),
    React.createElement('button',{key:'s',className:'btn btn-primary',onClick:save},'Add to Calendar'),
  ]},
    React.createElement('div',{style:{background:jc.bg,border:'1px solid '+jc.text+'33',borderRadius:'var(--r)',padding:'10px 14px',marginBottom:'16px',display:'flex',alignItems:'center',gap:'8px',flexWrap:'wrap'}},
      React.createElement('span',{style:{fontWeight:800,fontSize:'15px',color:jc.text}},job?job.name||job.address:''),
      React.createElement('span',{style:{fontSize:'12px',color:'var(--text2)',marginLeft:'auto'}},'Starting '+dateLabel)
    ),
    React.createElement('div',{className:'form-row'},
      React.createElement('div',{className:'form-group'},
        React.createElement('label',{className:'form-label'},t('stageForBlock')),
        React.createElement('div',{style:{display:'flex',alignItems:'center',gap:'8px'}},
          React.createElement('div',{style:{width:'14px',height:'14px',borderRadius:'50%',background:stageHex,flexShrink:0,boxShadow:'0 1px 4px '+stageHex+'88'}}),
          React.createElement('select',{className:'form-select',value:blockStage,onChange:e=>setBlockStage(e.target.value)},
            stages.map(s=>{
              const sh=s.colorHex||s.color.text||'#475569';
              return React.createElement('option',{key:s.id,value:s.name},s.name);
            })
          )
        )
      ),
      React.createElement('div',{className:'form-group'},
        React.createElement('label',{className:'form-label'},t('duration')),
        React.createElement('select',{className:'form-select',value:blockDays,onChange:e=>setBlockDays(e.target.value)},
          [1,2,3,4,5,6,7,8,9,10,14,21,28].map(d=>
            React.createElement('option',{key:d,value:String(d)},d===1?'1 day':d+' days')
          )
        ),
        job&&job.estimatedDays?React.createElement('div',{style:{fontSize:'11px',color:'var(--text3)',marginTop:'3px'}},'Project estimate: '+job.estimatedDays+(job.estimatedDays===1?' day':' days')):null
      )
    ),
    stageTasks.length>0&&React.createElement('div',{style:{fontSize:'11px',color:'var(--text3)',marginBottom:'12px',background:'var(--bg3)',padding:'6px 10px',borderRadius:'var(--r)'}},
      'ğŸ“‹ Tasks for this stage: '+stageTasks.join(' Â· ')
    ),
    React.createElement('div',{style:{fontSize:'11px',fontWeight:700,textTransform:'uppercase',letterSpacing:'.5px',color:'var(--text2)',marginBottom:'6px'}},'Assign workers (optional)'),
    React.createElement('div',{className:'worker-checklist',style:{maxHeight:'220px'}},
      activeWorkers.map(w=>{
        const sel=selected.find(x=>x.workerId===w.id);
        const wColor=w.color||jc.text;
        return React.createElement('div',{key:w.id,className:'worker-check-item'+(isSel(w.id)?' checked':'')},
          React.createElement('div',{style:{width:'10px',height:'10px',borderRadius:'50%',background:wColor,flexShrink:0}}),
          React.createElement('input',{type:'checkbox',checked:isSel(w.id),onChange:()=>toggle(w.id)}),
          React.createElement('span',{className:'worker-check-name'},w.name),
          isSel(w.id)?React.createElement('input',{type:'number',min:.5,step:.5,value:sel.hours,onChange:e=>setWF(w.id,'hours',e.target.value),style:{width:'55px',marginLeft:'8px',border:'1px solid var(--border)',borderRadius:'5px',padding:'3px 6px',fontSize:'12px',background:'var(--bg2)'},title:'Hours'}):null,
          isSel(w.id)&&stageTasks.length>0?React.createElement('select',{className:'worker-task-sel',value:sel.task,onChange:e=>setWF(w.id,'task',e.target.value)},
            React.createElement('option',{value:''},'Task...'),
            stageTasks.map((tt,i)=>React.createElement('option',{key:i,value:tt},tt))
          ):null
        );
      })
    )
  );
}

// â”€â”€ CELL DETAIL MODAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function CellDetailModal({block,job,date,assignments,workers,stages,isAdmin,dispatch,toast,onClose}){
  const [editAssign,setEditAssign]=useState(null);
  const [editingWorkers,setEditingWorkers]=useState(false); // checklist mode
  const [confirmDel,setConfirmDel]=useState(false);

  // Worker checklist state for editing
  // sel: [{workerId, hours, task}] â€” mirrors DropBlockModal style
  const [sel,setSel]=useState([]);

  const jc=jobColor(job?job.colorIdx||block?.colorIdx||0:block?.colorIdx||0);
  const stageHex=(()=>{
    const stg=stages.find(s=>s.name===(block?block.stage:''));
    return stg?stg.colorHex||stg.color?.text||'#6366f1':'#6366f1';
  })();
  const c=stageColor(stages,block?block.stage:'');
  const locale=LANG==='es'?'es-MX':'en-US';
  const dateLabel=new Date(date+'T12:00:00').toLocaleDateString(locale,{weekday:'long',month:'long',day:'numeric'});
  const activeWorkers=workers.filter(w=>w.isActive!==false);
  const stageObj=stages.find(s=>s.name===(block?block.stage:''));
  const stageTasks=stageObj?stageObj.tasks||[]:[];

  // Enter edit-workers mode: pre-populate checklist from existing assignments
  const enterEditWorkers=()=>{
    const current=assignments.map(a=>({workerId:a.workerId,hours:a.plannedHours||8,task:a.task||''}));
    setSel(current);
    setEditingWorkers(true);
  };

  const toggle=wId=>{
    setSel(s=>s.find(x=>x.workerId===wId)
      ?s.filter(x=>x.workerId!==wId)
      :[...s,{workerId:wId,hours:8,task:''}]
    );
  };
  const setWF=(wId,f,v)=>setSel(s=>s.map(x=>x.workerId===wId?{...x,[f]:v}:x));
  const isSel=wId=>sel.some(x=>x.workerId===wId);

  // Save worker changes: remove unchecked assignments, add new checked ones
  const saveWorkers=()=>{
    const newWorkerIds=new Set(sel.map(x=>x.workerId));
    const existingWorkerIds=new Set(assignments.map(a=>a.workerId));

    // Remove workers that were unchecked
    assignments.forEach(a=>{
      if(!newWorkerIds.has(a.workerId)){
        dispatch({type:'DELETE_ASSIGNMENT',id:a.id});
      } else {
        // Update hours/task for existing workers
        const s=sel.find(x=>x.workerId===a.workerId);
        if(s) dispatch({type:'UPDATE_ASSIGNMENT',id:a.id,data:{plannedHours:parseFloat(s.hours)||8,task:s.task,stage:block?block.stage:''}});
      }
    });
    // Add newly checked workers
    sel.forEach(s=>{
      if(!existingWorkerIds.has(s.workerId)){
        dispatch({type:'ADD_ASSIGNMENT',assignment:{
          id:genId(),jobId:block?block.jobId:'',blockId:block?block.id:'',
          workerId:s.workerId,scheduledDate:date,
          plannedHours:parseFloat(s.hours)||8,task:s.task,notes:'',
          stage:block?block.stage:''
        }});
      }
    });
    toast(t('saved'),'success');
    setEditingWorkers(false);
  };

  if(editAssign) return React.createElement(AssignmentModal,{
    assignment:editAssign,jobs:[job],workers,stages,isAdmin,dispatch,allAssignments:assignments,
    blockStageName:block?block.stage:null,
    onSave:(id,updates)=>{dispatch({type:'UPDATE_ASSIGNMENT',id,data:updates});toast(t('saved'),'success');setEditAssign(null);},
    onDelete:(id)=>{dispatch({type:'DELETE_ASSIGNMENT',id});toast(t('removed'),'success');setEditAssign(null);},
    onClose:()=>setEditAssign(null)
  });

  if(confirmDel) return React.createElement(Confirm,{
    msg:t('removeBlockConfirm'),
    onConfirm:()=>{dispatch({type:'DELETE_BLOCK',id:block.id});toast('Block removed','success');onClose();},
    onCancel:()=>setConfirmDel(false)
  });

  // â”€â”€ EDIT WORKERS MODE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  if(editingWorkers) return React.createElement(Modal,{
    title:'Edit Workers â€” '+dateLabel,
    onClose:()=>setEditingWorkers(false),
    wide:true,
    footer:[
      React.createElement('button',{key:'c',className:'btn btn-ghost',onClick:()=>setEditingWorkers(false)},t('cancel')),
      React.createElement('button',{key:'s',className:'btn btn-primary',onClick:saveWorkers},'Save Workers'),
    ]
  },
    // Job header
    React.createElement('div',{style:{background:jc.bg,border:'1px solid '+jc.text+'33',borderRadius:'var(--r)',padding:'10px 14px',marginBottom:'16px',display:'flex',alignItems:'center',gap:'8px',flexWrap:'wrap'}},
      React.createElement('div',{style:{width:'10px',height:'10px',borderRadius:'50%',background:jc.text,flexShrink:0}}),
      React.createElement('span',{style:{fontWeight:800,fontSize:'14px',color:jc.text}},job?job.name||job.address:''),
      React.createElement('span',{style:{background:stageHex,color:'#fff',fontSize:'10px',fontWeight:800,padding:'2px 8px',borderRadius:'20px'}},trStage(block?block.stage:'')),
      React.createElement('span',{style:{fontSize:'12px',color:'var(--text2)',marginLeft:'auto'}},dateLabel)
    ),
    React.createElement('div',{style:{fontSize:'11px',fontWeight:700,textTransform:'uppercase',letterSpacing:'.5px',color:'var(--text2)',marginBottom:'8px'}},'Check workers for this day:'),
    React.createElement('div',{className:'worker-checklist',style:{maxHeight:'260px'}},
      activeWorkers.map(w=>{
        const s=sel.find(x=>x.workerId===w.id);
        const wColor=w.color||jc.text;
        return React.createElement('div',{key:w.id,className:'worker-check-item'+(isSel(w.id)?' checked':'')},
          React.createElement('div',{style:{width:'10px',height:'10px',borderRadius:'50%',background:wColor,flexShrink:0}}),
          React.createElement('input',{type:'checkbox',checked:isSel(w.id),onChange:()=>toggle(w.id)}),
          React.createElement('span',{className:'worker-check-name'},w.name),
          isSel(w.id)?React.createElement('input',{
            type:'number',min:.5,step:.5,value:s?s.hours:8,
            onChange:e=>setWF(w.id,'hours',e.target.value),
            style:{width:'55px',marginLeft:'8px',border:'1px solid var(--border)',borderRadius:'5px',padding:'3px 6px',fontSize:'12px',background:'var(--bg2)'},
            title:'Hours'
          }):null,
          isSel(w.id)&&stageTasks.length>0?React.createElement('select',{
            className:'worker-task-sel',
            value:s?s.task:'',
            onChange:e=>setWF(w.id,'task',e.target.value)
          },
            React.createElement('option',{value:''},'Task...'),
            stageTasks.map((tt,i)=>React.createElement('option',{key:i,value:taskText(tt)},taskText(tt)))
          ):null
        );
      })
    )
  );

  // â”€â”€ NORMAL VIEW MODE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const footer=[
    isAdmin?React.createElement('button',{key:'del',className:'btn btn-danger btn-sm',style:{marginRight:'auto'},onClick:()=>setConfirmDel(true)},t('removeBlock')):null,
    isAdmin?React.createElement('button',{key:'ew',className:'btn btn-primary',onClick:enterEditWorkers},'âœï¸ Edit Workers'):null,
    React.createElement('button',{key:'c',className:'btn btn-ghost',onClick:onClose},'Close')
  ].filter(Boolean);

  return React.createElement(Modal,{title:(job?job.name||job.address:'Block')+' â€” '+dateLabel,onClose,footer,wide:true},
    React.createElement('div',{style:{background:jc.bg,border:'1px solid '+jc.text+'33',borderRadius:'var(--r)',padding:'10px 14px',marginBottom:'14px'}},
      React.createElement('div',{style:{display:'flex',alignItems:'center',gap:'8px',flexWrap:'wrap'}},
        React.createElement('span',{style:{fontWeight:800,fontSize:'15px',color:jc.text}},job?job.name||job.address:''),
        React.createElement('span',{style:{background:stageHex,color:'#fff',fontSize:'10px',fontWeight:800,padding:'2px 8px',borderRadius:'20px'}},trStage(block?block.stage:'')),
        job&&job.address?React.createElement('span',{style:{fontSize:'12px',color:jc.text+'88'}},'ğŸ“ '+job.address):null,
        React.createElement('span',{style:{fontSize:'12px',color:'var(--text2)',marginLeft:'auto'}},
          block&&block.estimatedDays>1?Math.ceil(block.estimatedDays)+' day block':'')
      )
    ),
    React.createElement('div',{style:{fontSize:'11px',fontWeight:700,textTransform:'uppercase',letterSpacing:'.5px',color:'var(--text2)',marginBottom:'8px'}},'Assigned Workers'),
    assignments.length===0
      ?React.createElement('div',{style:{color:'var(--text3)',fontSize:'13px',fontStyle:'italic',padding:'8px 0'}},'No workers assigned yet')
      :React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:'8px'}},
          assignments.map(a=>{
            const w=workers.find(x=>x.id===a.workerId);
            const wColor=w&&w.color?w.color:jc.text;
            const taskObj=stageObj&&stageObj.tasks?stageObj.tasks.find(tt=>taskText(tt)===a.task):null;
            const chipColor=taskObj?taskColor(taskObj,'#6366f1'):'#6366f1';
            return React.createElement('div',{key:a.id,style:{background:'var(--bg3)',border:'1px solid var(--border)',borderRadius:'var(--r)',padding:'10px 12px',display:'flex',alignItems:'flex-start',gap:'10px'}},
              React.createElement('div',{style:{width:'10px',height:'10px',borderRadius:'50%',background:wColor,marginTop:'4px',flexShrink:0}}),
              React.createElement('div',{style:{flex:1}},
                React.createElement('div',{style:{fontWeight:700,fontSize:'14px'}},w?w.name:'Unknown'),
                React.createElement('div',{style:{display:'flex',alignItems:'center',gap:'6px',marginTop:'3px',flexWrap:'wrap'}},
                  React.createElement('span',{style:{fontSize:'12px',color:'var(--text2)'}},a.plannedHours+'h'),
                  a.task?React.createElement('span',{style:{background:chipColor+'22',color:chipColor,border:'1px solid '+chipColor+'44',padding:'1px 8px',borderRadius:'20px',fontSize:'11px',fontWeight:700}},trTask(a.task)):null
                ),
                a.notes?React.createElement('div',{style:{fontSize:'12px',color:'var(--text3)',marginTop:'4px',fontStyle:'italic'}},a.notes):null
              ),
              isAdmin?React.createElement('button',{className:'btn btn-ghost btn-sm',onClick:()=>setEditAssign(a),style:{fontSize:'11px'}},'Edit'):null
            );
          })
        )
  );
}

// â”€â”€ HELPERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function getMonthStart(y,m){return new Date(y,m,1);}
function daysInMonth(y,m){return new Date(y,m+1,0).getDate();}

// Returns [{date, cur}] for the full month grid (Mon-start)
function monthGridDates(y,m){
  const first=new Date(y,m,1);
  const dow=first.getDay(); // Sun=0..Sat=6 (native JS â€” always accurate)
  const total=daysInMonth(y,m);
  const arr=[];
  for(let i=0;i<dow;i++){arr.push({date:new Date(y,m,1-dow+i),cur:false});}
  for(let i=1;i<=total;i++){arr.push({date:new Date(y,m,i),cur:true});}
  while(arr.length%7!==0){arr.push({date:new Date(y,m+1,arr.length-dow-total+1),cur:false});}
  return arr;
}

// â”€â”€ DROP BLOCK MODAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function DropBlockModal({jobId,startDate,jobs,workers,stages,dispatch,toast,onClose}){
  const job=jobs.find(j=>j.id===jobId);
  const jc=jobColor(job?job.colorIdx:0);
  const [blockStage,setBlockStage]=useState(stages[0]?stages[0].name:'');
  const [blockDays,setBlockDays]=useState('1'); // default 1 day; job.estimatedDays shown as hint
  const [sel,setSel]=useState([]); // [{workerId,task,hours}]
  const activeWorkers=workers.filter(w=>w.isActive);
  const stageObj=stages.find(s=>s.name===blockStage);
  const stageTasks=stageObj&&stageObj.tasks?stageObj.tasks:[];
  const stageHex=stageObj&&stageObj.colorHex?stageObj.colorHex:'#2563eb';
  const c=stageColor(stages,blockStage);
  const locale=LANG==='es'?'es-MX':'en-US';
  const dateLabel=new Date(startDate+'T12:00:00').toLocaleDateString(locale,{weekday:'short',month:'short',day:'numeric'});

  const toggle=wId=>{setSel(s=>s.find(x=>x.workerId===wId)?s.filter(x=>x.workerId!==wId):[...s,{workerId:wId,task:'',hours:8}]);};
  const setWF=(wId,f,v)=>setSel(s=>s.map(x=>x.workerId===wId?{...x,[f]:v}:x));
  const isSel=wId=>sel.some(x=>x.workerId===wId);

  const save=()=>{
    const bId=genId();
    const days=parseFloat(blockDays)||1;
    // Use the stage's color directly from stage object
    const stgObj=stages.find(s=>s.name===blockStage);
    const stageColorIdx=stgObj&&stgObj.colorHex?null:(job?job.colorIdx:0);
    dispatch({type:'ADD_BLOCK',block:{id:bId,jobId,startDate,estimatedDays:days,stage:blockStage,colorIdx:job?job.colorIdx:0,stageHex:stageHex}});
    // Create assignment for EVERY day of the block for each selected worker
    sel.forEach(s=>{
      const totalDays=Math.max(1,Math.ceil(days));
      for(let i=0;i<totalDays;i++){
        const scheduledDate=nd(startDate,i);
        dispatch({type:'ADD_ASSIGNMENT',assignment:{
          id:genId(),jobId,blockId:bId,workerId:s.workerId,
          scheduledDate,plannedHours:parseFloat(s.hours)||8,
          task:taskText(s.task)||s.task,notes:'',stage:blockStage
        }});
      }
    });
    toast('Scheduled'+(sel.length?' â€” '+sel.length+' worker(s) Ã— '+Math.ceil(days)+' day(s)':''),'success');
    onClose();
  };

  return React.createElement(Modal,{title:t('scheduleBlock'),onClose,wide:true,footer:[
    React.createElement('button',{key:'c',className:'btn btn-ghost',onClick:onClose},t('cancel')),
    React.createElement('button',{key:'s',className:'btn btn-primary',onClick:save},t('addToCalendar')),
  ]},
    React.createElement('div',{style:{background:jc.bg,border:'1px solid '+jc.text+'33',borderRadius:'var(--r)',padding:'10px 14px',marginBottom:'16px',display:'flex',alignItems:'center',gap:'10px',flexWrap:'wrap'}},
      React.createElement('div',{style:{width:'10px',height:'10px',borderRadius:'50%',background:jc.text,flexShrink:0}}),
      React.createElement('span',{style:{fontWeight:800,fontSize:'15px',color:jc.text}},job?job.name||job.address:''),
      React.createElement('span',{style:{fontSize:'12px',color:'var(--text2)',marginLeft:'auto'}},'ğŸ“… '+t('startingDate')+' '+dateLabel)
    ),
    React.createElement('div',{className:'form-row'},
      React.createElement('div',{className:'form-group'},
        React.createElement('label',{className:'form-label'},t('stageForBlock')),
        React.createElement('div',{style:{display:'flex',alignItems:'center',gap:'8px'}},
          React.createElement('div',{style:{width:'14px',height:'14px',borderRadius:'50%',background:stageHex,flexShrink:0,boxShadow:'0 1px 4px '+stageHex+'88'}}),
          React.createElement('select',{className:'form-select',value:blockStage,onChange:e=>setBlockStage(e.target.value)},
            stages.map(s=>{
              const sh=s.colorHex||s.color.text||'#475569';
              return React.createElement('option',{key:s.id,value:s.name},s.name);
            })
          )
        )
      ),
      React.createElement('div',{className:'form-group'},
        React.createElement('label',{className:'form-label'},t('duration')),
        React.createElement('select',{className:'form-select',value:blockDays,onChange:e=>setBlockDays(e.target.value)},
          [1,2,3,4,5,6,7,8,9,10,14,21,28].map(d=>
            React.createElement('option',{key:d,value:String(d)},d===1?'1 day':d+' days')
          )
        ),
        job&&job.estimatedDays?React.createElement('div',{style:{fontSize:'11px',color:'var(--text3)',marginTop:'3px'}},'Project estimate: '+job.estimatedDays+(job.estimatedDays===1?' day':' days')):null
      )
    ),
    stageTasks.length>0&&React.createElement('div',{style:{fontSize:'12px',color:'var(--text2)',marginBottom:'12px',background:'var(--bg3)',padding:'8px 12px',borderRadius:'var(--r)',display:'flex',flexWrap:'wrap',gap:'6px',alignItems:'center'}},
      React.createElement('span',{style:{fontWeight:700,fontSize:'11px',textTransform:'uppercase',letterSpacing:'.5px',color:'var(--text3)'}},t('stageTasks')+':'),
      stageTasks.map((tt,i)=>{const c=taskColor(tt,'#6366f1');const tx=taskText(tt);return React.createElement('span',{key:i,className:'tag',style:{background:c+'22',color:c,border:'1px solid '+c+'44'}},tx);})
    ),
    React.createElement('div',{style:{fontSize:'11px',fontWeight:700,textTransform:'uppercase',letterSpacing:'.5px',color:'var(--text2)',marginBottom:'6px'}},t('assignWorkers')),
    React.createElement('div',{className:'worker-checklist',style:{maxHeight:'220px'}},
      activeWorkers.map(w=>{
        const s=sel.find(x=>x.workerId===w.id);
        const wColor=w.color||jc.text;
        return React.createElement('div',{key:w.id,className:'worker-check-item'+(isSel(w.id)?' checked':'')},
          React.createElement('div',{style:{width:'10px',height:'10px',borderRadius:'50%',background:wColor,flexShrink:0}}),
          React.createElement('input',{type:'checkbox',checked:isSel(w.id),onChange:()=>toggle(w.id)}),
          React.createElement('span',{className:'worker-check-name'},w.name),
          isSel(w.id)?React.createElement('input',{type:'number',min:.5,step:.5,value:s.hours,onChange:e=>{e.stopPropagation();setWF(w.id,'hours',e.target.value);},onClick:e=>e.stopPropagation(),style:{width:'55px',marginLeft:'auto',border:'1px solid var(--border)',borderRadius:'5px',padding:'3px 6px',fontSize:'12px',background:'var(--bg2)'},title:'Hours'}):null,
          isSel(w.id)&&stageTasks.length>0?React.createElement('select',{className:'worker-task-sel',value:s.task,onChange:e=>{e.stopPropagation();setWF(w.id,'task',e.target.value);},onClick:e=>e.stopPropagation()},
            React.createElement('option',{value:''},'Task...'),
            stageTasks.map((tt,i)=>React.createElement('option',{key:i,value:taskText(tt)},taskText(tt)))
          ):null
        );
      })
    )
  );
}

// â”€â”€ CELL DETAIL MODAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function CellDetailModal({block,job,date,assignments,workers,stages,isAdmin,dispatch,toast,onClose}){
  const [editAssign,setEditAssign]=useState(null);
  const [confirmDel,setConfirmDel]=useState(false);
  const jc=jobColor(block?block.colorIdx:0);
  const c=stageColor(stages,block?block.stage:'');
  const locale=LANG==='es'?'es-MX':'en-US';
  const dateLabel=new Date(date+'T12:00:00').toLocaleDateString(locale,{weekday:'long',month:'long',day:'numeric'});

  if(editAssign) return React.createElement(AssignmentModal,{
    assignment:editAssign,jobs:[job],workers,stages,isAdmin,dispatch,allAssignments:assignments,
    blockStageName:block?block.stage:null,
    onSave:(id,updates)=>{dispatch({type:'UPDATE_ASSIGNMENT',id,data:updates});toast(t('saved'),'success');setEditAssign(null);},
    onDelete:(id)=>{dispatch({type:'DELETE_ASSIGNMENT',id});toast(t('removed'),'success');setEditAssign(null);},
    onClose:()=>setEditAssign(null)
  });

  if(confirmDel) return React.createElement(Confirm,{
    msg:t('removeBlockConfirm'),
    onConfirm:()=>{dispatch({type:'DELETE_BLOCK',id:block.id});toast('Block removed','success');onClose();},
    onCancel:()=>setConfirmDel(false)
  });

  const footer=[
    isAdmin?React.createElement('button',{key:'del',className:'btn btn-danger btn-sm',style:{marginRight:'auto'},onClick:()=>setConfirmDel(true)},t('removeBlock')):null,
    React.createElement('button',{key:'c',className:'btn btn-ghost',onClick:onClose},'Close'),
  ].filter(Boolean);

  return React.createElement(Modal,{title:(job?job.name||job.address:'Block')+' â€” '+dateLabel,onClose,footer,wide:true},
    React.createElement('div',{style:{background:jc.bg,border:'1px solid '+jc.text+'33',borderRadius:'var(--r)',padding:'10px 14px',marginBottom:'14px',display:'flex',alignItems:'center',gap:'8px',flexWrap:'wrap'}},
      React.createElement('span',{style:{fontWeight:800,fontSize:'14px',color:jc.text}},job?job.name||job.address:''),
      React.createElement('span',{className:'stage-pill',style:{background:c.bg,color:c.text,border:'1px solid '+c.border}},trStage(block?block.stage:'')),
      job&&job.address?React.createElement('span',{style:{fontSize:'12px',color:'var(--text2)'}},'ğŸ“ '+job.address):null
    ),
    React.createElement('div',{style:{fontSize:'11px',fontWeight:700,textTransform:'uppercase',letterSpacing:'.5px',color:'var(--text2)',marginBottom:'8px'}},t('workersOnDay')),
    assignments.length===0
      ?React.createElement('div',{style:{color:'var(--text3)',fontSize:'13px',fontStyle:'italic',padding:'12px 0'}},t('noWorkersDay'))
      :React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:'8px'}},
          assignments.map(a=>{
            const w=workers.find(x=>x.id===a.workerId);
            const wColor=w&&w.color?w.color:jc.text;
            return React.createElement('div',{key:a.id,style:{background:'var(--bg3)',border:'1px solid var(--border)',borderRadius:'var(--r)',padding:'10px 12px',display:'flex',alignItems:'flex-start',gap:'10px'}},
              React.createElement('div',{style:{width:'10px',height:'10px',borderRadius:'50%',background:wColor,marginTop:'4px',flexShrink:0}}),
              React.createElement('div',{style:{flex:1}},
                React.createElement('div',{style:{fontWeight:700,fontSize:'14px'}},w?w.name:'Unknown'),
                React.createElement('div',{style:{fontSize:'12px',color:'var(--text2)',marginTop:'2px'}},
                  a.plannedHours+'h',
                  a.task?React.createElement('span',{style:{marginLeft:'8px',background:'var(--blue-dim)',color:'var(--blue)',padding:'1px 7px',borderRadius:'20px',fontSize:'11px'}},trTask(a.task)):null
                ),
                a.notes?React.createElement('div',{style:{fontSize:'12px',color:'var(--text3)',marginTop:'4px',fontStyle:'italic'}},a.notes):null
              ),
              isAdmin?React.createElement('button',{className:'btn btn-ghost btn-sm',onClick:()=>setEditAssign(a),style:{fontSize:'11px'}},'Edit'):null
            );
          })
        )
  );
}

// â”€â”€ SCHEDULER PAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function SchedulerPage({data,isAdmin,dispatch,toast}){
  const now=new Date();
  const [year,setYear]=useState(now.getFullYear());
  const [month,setMonth]=useState(now.getMonth());
  const [dragItem,setDragItem]=useState(null);   // job being dragged from sidebar
  const [dropModal,setDropModal]=useState(null); // {jobId, startDate}
  const [cellModal,setCellModal]=useState(null); // {blockId, date}
  const [dragOverDate,setDragOverDate]=useState(null);

  const todayStr=toDateStr(new Date());
  const MONTH_NAMES=(T[LANG]&&T[LANG].months?T[LANG].months:T.en.months).split(',');
  const WEEK_DAYS=(T[LANG]&&T[LANG].weekDays?T[LANG].weekDays:T.en.weekDays).split(',');

  const gridDates=useMemo(()=>monthGridDates(year,month),[year,month]);
  const weeks=useMemo(()=>{
    const w=[];
    for(let i=0;i<gridDates.length;i+=7) w.push(gridDates.slice(i,i+7));
    return w;
  },[gridDates]);

  const scheduleBlocks=data.scheduleBlocks||[];
  const activeJobs=data.jobs.filter(j=>!j.status||j.status==='active');

  // Map: date string â†’ list of assignments on that date
  const assignsByDate=useMemo(()=>{
    const m={};
    (data.assignments||[]).forEach(a=>{
      if(!m[a.scheduledDate])m[a.scheduledDate]=[];
      m[a.scheduledDate].push(a);
    });
    return m;
  },[data.assignments]);

  // Map: date string â†’ list of schedule blocks active on that date
  const blocksByDate=useMemo(()=>{
    const m={};
    scheduleBlocks.forEach(b=>{
      const days=Math.max(1,Math.ceil(b.estimatedDays||1));
      for(let i=0;i<days;i++){
        const d=nd(b.startDate,i);
        if(!m[d])m[d]=[];
        m[d].push(b);
      }
    });
    return m;
  },[scheduleBlocks]);

  const prevMonth=()=>{if(month===0){setMonth(11);setYear(y=>y-1);}else setMonth(m=>m-1);};
  const nextMonth=()=>{if(month===11){setMonth(0);setYear(y=>y+1);}else setMonth(m=>m+1);};
  const goToday=()=>{setYear(now.getFullYear());setMonth(now.getMonth());};

  // Drag handlers
  const onDragStart=(e,job)=>{
    e.dataTransfer.effectAllowed='move';
    e.dataTransfer.setData('text/plain',job.id);
    setDragItem(job);
  };
  const onDragEnd=()=>{setDragItem(null);setDragOverDate(null);};
  const onDragOver=(e,ds)=>{e.preventDefault();e.dataTransfer.dropEffect='move';setDragOverDate(ds);};
  const onDragLeave=()=>setDragOverDate(null);
  const onDrop=(e,ds,cur)=>{
    e.preventDefault();
    setDragOverDate(null);
    if(!dragItem||!isAdmin||!cur)return;
    setDropModal({jobId:dragItem.id,startDate:ds});
    setDragItem(null);
  };

  return React.createElement('div',{className:'main sched-layout'},

    // â”€â”€ LEFT SIDEBAR: Project cards (draggable for admin) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    React.createElement('div',{className:'proj-sidebar'},
      React.createElement('div',{className:'proj-sidebar-hdr'},'Projects'),
      activeJobs.length===0
        ? React.createElement('div',{style:{color:'var(--text3)',fontSize:'12px',padding:'10px',fontStyle:'italic'}},'No active jobs')
        : activeJobs.map(job=>{
            const jc=jobColor(job.colorIdx);
            return React.createElement('div',{
              key:job.id,
              className:'proj-card'+(dragItem&&dragItem.id===job.id?' proj-card-dragging':''),
              style:{borderLeft:'4px solid '+jc.text,cursor:isAdmin?'grab':'default'},
              draggable:isAdmin,
              onDragStart:isAdmin?e=>onDragStart(e,job):null,
              onDragEnd:isAdmin?onDragEnd:null,
            },
              React.createElement('div',{className:'proj-card-name',style:{color:jc.text}},job.name||job.address),
              job.address&&React.createElement('div',{className:'proj-card-addr'},job.address),
              React.createElement('div',{style:{display:'flex',alignItems:'center',gap:'4px',marginTop:'5px'}},
                React.createElement('span',{className:'proj-card-meta'},(job.estimatedDays||1)+(job.estimatedDays===1?' day':' days'))
              ),
              job.summary&&React.createElement('div',{className:'proj-card-summary'},job.summary),
              isAdmin&&React.createElement('div',{style:{fontSize:'9px',color:'var(--text3)',marginTop:'4px',fontStyle:'italic'}},'drag to calendar')
            );
          })
    ),

    // â”€â”€ RIGHT: Month Calendar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    React.createElement('div',{className:'schedule-area'},

      // Toolbar
      React.createElement('div',{className:'schedule-toolbar'},
        React.createElement('div',{className:'week-nav'},
          React.createElement('button',{className:'week-btn',onClick:prevMonth},'â€¹'),
          React.createElement('span',{className:'week-label',style:{minWidth:'180px'}},MONTH_NAMES[month]+' '+year),
          React.createElement('button',{className:'week-btn',onClick:nextMonth},'â€º')
        ),
        React.createElement('button',{className:'today-btn',onClick:goToday},t('today')),
        !isAdmin&&React.createElement('span',{className:'tag',style:{marginLeft:'auto',background:'var(--blue-dim)',color:'var(--blue)'}},t('viewOnly'))
      ),

      // Calendar grid
      React.createElement('div',{className:'cal-grid-wrap'},
        React.createElement('table',{className:'cal-table'},
          React.createElement('thead',null,
            React.createElement('tr',null,
              WEEK_DAYS.map((d,i)=>
                React.createElement('th',{key:i,className:'cal-th'},d)
              )
            )
          ),
          React.createElement('tbody',null,
            weeks.map((week,wi)=>
              React.createElement('tr',{key:wi,className:'cal-week-row'},
                week.map(({date,cur})=>{
                  const ds=toDateStr(date);
                  const isToday=ds===todayStr;
                  const blocksHere=(blocksByDate[ds]||[]);
                  const dayAssigns=assignsByDate[ds]||[];
                  const isDragOver=dragOverDate===ds;

                  return React.createElement('td',{
                    key:ds,
                    className:'cal-cell'
                      +(isToday?' cal-today':'')
                      +(!cur?' cal-other-month':'')
                      +(isDragOver&&isAdmin?' cal-drag-over':''),
                    onDragOver:isAdmin&&cur?e=>onDragOver(e,ds):null,
                    onDragLeave:isAdmin&&cur?onDragLeave:null,
                    onDrop:isAdmin&&cur?e=>onDrop(e,ds,cur):null,
                  },
                    // Date number
                    React.createElement('div',{className:'cal-date-num'+(isToday?' cal-date-today':'')},date.getDate()),

                    // Schedule blocks active on this date
                    blocksHere.map(block=>{
                      const job=data.jobs.find(j=>j.id===block.jobId);
                      // Block uses JOB color; stage pill uses STAGE color
                      const stg=data.stages.find(s=>s.name===block.stage);
                      const stgHex=stg?stg.colorHex||stg.color?.text||'#6366f1':'#6366f1';
                      // Job color for block background
                      const jc=jobColor(job?job.colorIdx||0:block.colorIdx||0);
                      const totalDays=Math.max(1,Math.ceil(block.estimatedDays||1));
                      const lastDate=nd(block.startDate,totalDays-1);
                      const isFirst=ds===block.startDate;
                      const isLast=ds===lastDate;

                      // Workers assigned to this block on this day
                      const blockWorkers=dayAssigns
                        .filter(a=>a.blockId===block.id)
                        .map(a=>({...a,worker:data.workers.find(w=>w.id===a.workerId)}));

                      return React.createElement('div',{
                        key:block.id,
                        className:'cal-block'
                          +(isFirst?' cal-block-first':'')
                          +(isLast?' cal-block-last':''),
                        style:{
                          '--block-color':jc.text,
                          '--block-bg':jc.bg,
                          background:jc.bg,
                          borderLeft:'3px solid '+jc.text,
                          color:jc.text,
                        },
                        onClick:()=>setCellModal({blockId:block.id,date:ds}),
                        title:(job?job.name||job.address:'')+' Â· '+block.stage,
                      },
                        // Job name + stage label â€” only on first day of block
                        isFirst&&React.createElement('div',{className:'cal-block-header'},
                          React.createElement('span',{className:'cal-block-name',style:{color:jc.text}},job?job.name||job.address:''),
                          React.createElement('span',{className:'cal-block-stage',style:{background:stgHex,color:'#fff',boxShadow:'0 1px 4px '+stgHex+'88'}},trStage(block.stage))
                        ),
                        // Workers â€” shown on every day that has assignments
                        blockWorkers.length>0&&React.createElement('div',{className:'cal-block-workers'},
                          blockWorkers.map(({id,worker})=>
                            React.createElement('div',{key:id,className:'cal-worker-row'},
                              React.createElement('span',{className:'cal-worker-dot',style:{background:worker&&worker.color?worker.color:'rgba(255,255,255,0.7)'}}),
                              React.createElement('span',{className:'cal-worker-name',style:{color:jc.text}},worker?worker.name:'?'),
                              (()=>{
                                const a2=(data.assignments||[]).find(x=>x.id===id);
                                if(!a2||!a2.task)return null;
                                // Look up task color from stage
                                const stg2=data.stages.find(s=>s.name===(a2.stage||block.stage));
                                const taskObj=stg2&&stg2.tasks?stg2.tasks.find(tt=>taskText(tt)===a2.task):null;
                                const chipColor=taskObj?taskColor(taskObj,'#6366f1'):'#6366f1';
                                return React.createElement('span',{className:'cal-task-chip',style:{background:chipColor+'dd'}},trTask(a2.task));
                              })()
                            )
                          )
                        )
                      );
                    }),

                    // Drop hint for empty days (admin only)
                    isAdmin&&cur&&blocksHere.length===0&&React.createElement('div',{className:'cal-drop-hint'},'+')
                  );
                })
              )
            )
          )
        )
      )
    ),

    // Modals
    dropModal?React.createElement(DropBlockModal,{
      ...dropModal,
      jobs:data.jobs,workers:data.workers,stages:data.stages,
      dispatch,toast,
      onClose:()=>setDropModal(null)
    }):null,

    cellModal&&(()=>{
      const block=scheduleBlocks.find(b=>b.id===cellModal.blockId);
      const job=block?data.jobs.find(j=>j.id===block.jobId):null;
      const assignments=(data.assignments||[]).filter(a=>a.blockId===cellModal.blockId&&a.scheduledDate===cellModal.date);
      return React.createElement(CellDetailModal,{
        block,job,date:cellModal.date,assignments,
        workers:data.workers,stages:data.stages,
        isAdmin,dispatch,toast,
        onClose:()=>setCellModal(null)
      });
    })()
  );
}

// â”€â”€ FORGOT PASSWORD FLOW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function ForgotPassword({users,onBack,onReset}){
  const [step,setStep]=useState(1); // 1=username, 2=security question, 3=new password
  const [username,setUsername]=useState('');
  const [answer,setAnswer]=useState('');
  const [pw,setPw]=useState('');
  const [pw2,setPw2]=useState('');
  const [err,setErr]=useState('');
  const [foundUser,setFoundUser]=useState(null);

  // Also check hardcoded admins
  const allUsers=[...users,...HARDCODED_ADMINS.filter(ha=>!users.find(u=>u.id===ha.id))];

  const step1=()=>{
    const u=allUsers.find(u=>(u.username||'').toLowerCase()===username.toLowerCase());
    if(!u){setErr('Username not found.');return;}
    if(!u.securityQuestion){setErr('No security question set for this account. Contact an admin.');return;}
    setFoundUser(u);setErr('');setStep(2);
  };
  const step2=()=>{
    if((foundUser.securityAnswer||'').toLowerCase()!==(answer||'').toLowerCase()){setErr('Incorrect answer.');return;}
    setErr('');setStep(3);
  };
  const step3=()=>{
    if(!pw.trim()){setErr('Enter a new password.');return;}
    if(pw!==pw2){setErr('Passwords do not match.');return;}
    onReset(foundUser.id,pw);
  };

  return React.createElement('div',{},
    step===1&&React.createElement('div',null,
      React.createElement('p',{style:{fontSize:'13px',color:'var(--text2)',marginBottom:'14px'}},'Enter your username to start the password reset process.'),
      err&&React.createElement('div',{className:'login-error'},err),
      React.createElement('label',{className:'login-label'},'Username'),
      React.createElement('input',{className:'login-input',value:username,onChange:e=>setUsername(e.target.value),onKeyDown:e=>e.key==='Enter'&&step1(),placeholder:'your username',autoFocus:true}),
      React.createElement('button',{className:'login-btn',onClick:step1},'Next â†’')),
    step===2&&foundUser&&React.createElement('div',null,
      React.createElement('div',{className:'fp-step'},
        React.createElement('div',{className:'fp-step-label'},'Security Question'),
        React.createElement('p',{style:{fontSize:'14px',fontWeight:600,color:'var(--text)',marginBottom:'12px'}},foundUser.securityQuestion)),
      err&&React.createElement('div',{className:'login-error'},err),
      React.createElement('label',{className:'login-label'},'Your Answer'),
      React.createElement('input',{className:'login-input',value:answer,onChange:e=>setAnswer(e.target.value),onKeyDown:e=>e.key==='Enter'&&step2(),placeholder:'Type your answerâ€¦',autoFocus:true}),
      React.createElement('button',{className:'login-btn',onClick:step2},'Verify Answer â†’')),
    step===3&&React.createElement('div',null,
      React.createElement('p',{style:{fontSize:'13px',color:'var(--green)',marginBottom:'14px',fontWeight:600}},'âœ“ Identity verified! Set your new password.'),
      err&&React.createElement('div',{className:'login-error'},err),
      React.createElement('label',{className:'login-label'},'New Password'),
      React.createElement('input',{className:'login-input',type:'password',value:pw,onChange:e=>setPw(e.target.value),placeholder:'New password',autoFocus:true}),
      React.createElement('label',{className:'login-label'},'Confirm Password'),
      React.createElement('input',{className:'login-input',type:'password',value:pw2,onChange:e=>setPw2(e.target.value),onKeyDown:e=>e.key==='Enter'&&step3(),placeholder:'Repeat password'}),
      React.createElement('button',{className:'login-btn',onClick:step3},'Set New Password')),
    React.createElement('div',{className:'fp-back',onClick:onBack},'â† Back to login')
  );
}

// â”€â”€ CONTRACTED PAGE (admin) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function ContractedPage({data,isAdmin,dispatch,toast}){
  const [showForm,setShowForm]=useState(false);
  const [editJob,setEditJob]=useState(null);
  const [confirmDel,setConfirmDel]=useState(null);
  const [viewImg,setViewImg]=useState(null);
  const contractedJobs=data.jobs.filter(j=>j.status==='contracted');
  const handleSave=form=>{
    if(editJob){dispatch({type:'UPDATE_JOB',id:editJob.id,data:form});toast(t('jobUpdated'),'success');setEditJob(null);}
    else{dispatch({type:'ADD_JOB',job:{...form,id:genId(),tasks:[],status:'contracted'}});toast(t('jobCreated'),'success');setShowForm(false);}
  };
  return React.createElement('div',{className:'page'},
    React.createElement('div',{className:'page-header'},
      React.createElement('div',null,
        React.createElement('div',{className:'page-title'},'ğŸ“‹ '+t('contracted')),
        React.createElement('div',{style:{fontSize:'13px',color:'var(--text2)',marginTop:'2px'}},t('contractedHint'))
      ),
      isAdmin&&React.createElement('div',{style:{display:'flex',gap:'8px'}},
        React.createElement('button',{className:'btn btn-primary',onClick:()=>setShowForm(true)},t('addContracted'))
      )
    ),
    contractedJobs.length===0
      ?React.createElement('div',{className:'empty-state'},
          React.createElement('div',{className:'empty-icon'},'ğŸ“‹'),
          React.createElement('div',{className:'empty-text'},t('noContracted')),
          React.createElement('div',{className:'empty-sub'},'Add contracted jobs here until ready to schedule'))
      :React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:'10px'}},
          contractedJobs.map(job=>{
            const jc=jobColor(job.colorIdx);
            return React.createElement('div',{key:job.id,className:'card'},
              React.createElement('div',{style:{width:'4px',background:jc.text,position:'absolute',left:0,top:0,bottom:0,borderRadius:'12px 0 0 12px'}}),
              React.createElement('div',{style:{padding:'14px 16px'}},
                React.createElement('div',{style:{display:'flex',alignItems:'flex-start',justifyContent:'space-between',gap:'12px',flexWrap:'wrap'}},
                  React.createElement('div',{style:{flex:1}},
                    React.createElement('div',{style:{display:'flex',alignItems:'center',gap:'8px',marginBottom:'3px',flexWrap:'wrap'}},
                      React.createElement('div',{style:{width:'10px',height:'10px',borderRadius:'50%',background:jc.text,flexShrink:0}}),
                      React.createElement('span',{style:{fontSize:'15px',fontWeight:800}},job.name||job.address),
                      job.customerName&&React.createElement('span',{className:'tag'},job.customerName)
                    ),
                    React.createElement('div',{style:{fontSize:'12px',color:'var(--text2)',marginBottom:'3px'}},job.address),
                    job.summary&&React.createElement('div',{style:{fontSize:'12px',color:'var(--text3)',fontStyle:'italic'}},job.summary)
                  ),
                  React.createElement('div',{style:{display:'flex',alignItems:'flex-start',gap:'8px',flexShrink:0}},
                    job.imageB64?React.createElement('img',{src:job.imageB64,style:{width:'70px',height:'50px',objectFit:'cover',borderRadius:'8px',border:'2px solid var(--border)',flexShrink:0,cursor:'pointer'},onClick:()=>setViewImg(job.imageB64)}):null,
                    isAdmin?React.createElement('div',{style:{display:'flex',gap:'4px',flexWrap:'wrap'}},
                    React.createElement('button',{className:'btn btn-primary btn-sm',style:{fontSize:'11px'},onClick:()=>dispatch({type:'SET_JOB_STATUS',id:job.id,status:'active'})},'ğŸ“… '+t('schedule')),
                    React.createElement('button',{className:'btn btn-green btn-sm',style:{fontSize:'11px'},onClick:()=>dispatch({type:'SET_JOB_STATUS',id:job.id,status:'completed'})},t('markCompleted')),
                    React.createElement('button',{className:'btn btn-ghost btn-sm',onClick:()=>setEditJob(job)},t('edit')),
                    React.createElement('button',{className:'btn btn-danger btn-sm',onClick:()=>setConfirmDel(job)},t('delete'))
                    ):null
                  )
                ),
                React.createElement('div',{style:{display:'grid',gridTemplateColumns:'repeat(2,1fr)',gap:'8px',marginTop:'12px',maxWidth:'380px'}},
                  React.createElement('div',{className:'detail-stat'},
                    React.createElement('div',{className:'detail-stat-label'},'ğŸ“… '+t('estDays')),
                    React.createElement('div',{className:'detail-stat-value'},(job.estimatedDays||1)+(job.estimatedDays===1?' '+t('day'):' '+t('days')))),
                  job.sqft&&React.createElement('div',{className:'detail-stat'},
                    React.createElement('div',{className:'detail-stat-label'},'ğŸ“ '+t('sqft')),
                    React.createElement('div',{className:'detail-stat-value accent'},Number(job.sqft).toLocaleString()+' sqft'))
                )
              )
            );
          })
        ),
    showForm&&React.createElement(JobForm,{stages:data.stages,isAdmin,onSave:handleSave,onClose:()=>setShowForm(false)}),
    editJob&&React.createElement(JobForm,{job:editJob,stages:data.stages,isAdmin,onSave:handleSave,onClose:()=>setEditJob(null)}),
    confirmDel&&React.createElement(Confirm,{
      msg:t('delete')+' '+(confirmDel.name||confirmDel.address)+'?',
      onConfirm:()=>{dispatch({type:'DELETE_JOB',id:confirmDel.id});toast(t('jobDeleted'),'success');setConfirmDel(null);},
      onCancel:()=>setConfirmDel(null)}),
    viewImg?React.createElement('div',{onClick:()=>setViewImg(null),style:{position:'fixed',inset:0,background:'rgba(0,0,0,.75)',zIndex:9999,display:'flex',alignItems:'center',justifyContent:'center',cursor:'zoom-out'}},
      React.createElement('img',{src:viewImg,style:{maxWidth:'90vw',maxHeight:'90vh',borderRadius:'12px',boxShadow:'0 8px 40px rgba(0,0,0,.6)'}})):null
  );
}

// â”€â”€ COMPLETED PAGE (admin) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function CompletedPage({data,isAdmin,dispatch,toast}){
  const completedJobs=data.jobs.filter(j=>j.status==='completed');
  const [confirmDel,setConfirmDel]=useState(null);
  const [editDateJobId,setEditDateJobId]=useState(null);
  const [editDateVal,setEditDateVal]=useState('');
  const [viewImg,setViewImg]=useState(null);

  // Compute stats for a job from schedule blocks + assignments
  const getJobStats=(job)=>{
    const blocks=(data.scheduleBlocks||[]).filter(b=>b.jobId===job.id);
    // Total assigned days = sum of block estimatedDays
    const totalAssigned=blocks.reduce((sum,b)=>sum+Math.ceil(b.estimatedDays||1),0);
    // Stage breakdown: {stageName: days}
    const stageMap={};
    blocks.forEach(b=>{
      const s=b.stage||'Unknown';
      stageMap[s]=(stageMap[s]||0)+Math.ceil(b.estimatedDays||1);
    });
    return {totalAssigned,stageMap};
  };

  return React.createElement('div',{className:'page'},
    React.createElement('div',{className:'page-header'},
      React.createElement('div',null,
        React.createElement('div',{className:'page-title'},'âœ… '+t('completed')),
        React.createElement('div',{style:{fontSize:'13px',color:'var(--text2)',marginTop:'2px'}},t('completedHint'))
      )
    ),
    completedJobs.length===0
      ?React.createElement('div',{className:'empty-state'},
          React.createElement('div',{className:'empty-icon'},'âœ…'),
          React.createElement('div',{className:'empty-text'},t('noCompleted')))
      :React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:'12px'}},
          completedJobs.map(job=>{
            const jc=jobColor(job.colorIdx);
            const {totalAssigned,stageMap}=getJobStats(job);
            const stageEntries=Object.entries(stageMap);
            const overUnder=totalAssigned-(job.estimatedDays||1);

            return React.createElement('div',{key:job.id,className:'card'},
              React.createElement('div',{style:{width:'4px',background:'var(--green)',position:'absolute',left:0,top:0,bottom:0,borderRadius:'12px 0 0 12px'}}),
              React.createElement('div',{style:{padding:'14px 16px'}},

                // Header row
                React.createElement('div',{style:{display:'flex',alignItems:'flex-start',justifyContent:'space-between',gap:'12px',flexWrap:'wrap',marginBottom:'12px'}},
                  React.createElement('div',{style:{flex:1}},
                    React.createElement('div',{style:{display:'flex',alignItems:'center',gap:'8px',flexWrap:'wrap'}},
                      React.createElement('span',{style:{color:'var(--green)',fontSize:'16px',fontWeight:800}},'âœ“'),
                      React.createElement('span',{style:{fontSize:'16px',fontWeight:800,color:'var(--text)'}},job.name||job.address),
                      job.customerName&&React.createElement('span',{className:'tag'},job.customerName)
                    ),
                    React.createElement('div',{style:{fontSize:'12px',color:'var(--text2)',marginTop:'3px'}},job.address),
                    job.imageB64?React.createElement('img',{src:job.imageB64,style:{width:'80px',height:'56px',objectFit:'cover',borderRadius:'8px',border:'2px solid var(--border)',marginTop:'6px',display:'block',cursor:'pointer'},onClick:()=>setViewImg(job.imageB64)}):null,
                    // Completion date with edit
                    React.createElement('div',{style:{display:'flex',alignItems:'center',gap:'6px',marginTop:'5px'}},
                      React.createElement('span',{style:{fontSize:'11px',color:'var(--green)',fontWeight:700}},'Completed:'),
                      editDateJobId===job.id
                        ? React.createElement(React.Fragment,null,
                            React.createElement('input',{type:'date',value:editDateVal,onChange:e=>setEditDateVal(e.target.value),style:{fontSize:'12px',border:'1px solid var(--border)',borderRadius:'5px',padding:'2px 6px',fontFamily:'inherit'}}),
                            React.createElement('button',{className:'btn btn-primary btn-sm',style:{fontSize:'10px',padding:'2px 8px'},onClick:()=>{dispatch({type:'SET_JOB_COMPLETED_DATE',id:job.id,date:editDateVal});setEditDateJobId(null);toast('Date saved','success');}},t('save')),
                            React.createElement('button',{className:'btn btn-ghost btn-sm',style:{fontSize:'10px',padding:'2px 6px'},onClick:()=>setEditDateJobId(null)},t('cancel'))
                          )
                        : React.createElement(React.Fragment,null,
                            React.createElement('span',{style:{fontSize:'12px',color:'var(--text2)'}},job.completedDate?new Date(job.completedDate+'T12:00:00').toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'}):'â€”'),
                            React.createElement('button',{className:'btn btn-ghost btn-sm',style:{fontSize:'10px',padding:'1px 6px'},onClick:()=>{setEditDateJobId(job.id);setEditDateVal(job.completedDate||getToday());}},isAdmin?'âœ Edit':'')
                          )
                    )
                  ),
                  isAdmin&&React.createElement('div',{style:{display:'flex',gap:'6px',flexShrink:0}},
                    React.createElement('button',{className:'btn btn-ghost btn-sm',style:{fontSize:'11px'},onClick:()=>dispatch({type:'SET_JOB_STATUS',id:job.id,status:'active'})},t('markActive')),
                    React.createElement('button',{className:'btn btn-danger btn-sm',onClick:()=>setConfirmDel(job)},t('delete'))
                  )
                ),

                // â”€â”€ 3 STATS BOXES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                React.createElement('div',{style:{display:'grid',gridTemplateColumns:'repeat(3,1fr)',gap:'10px'}},

                  // Box 1: Estimated days
                  React.createElement('div',{style:{background:'var(--bg3)',border:'1px solid var(--border)',borderRadius:'8px',padding:'12px'}},
                    React.createElement('div',{style:{fontSize:'10px',fontWeight:800,textTransform:'uppercase',letterSpacing:'.5px',color:'var(--text3)',marginBottom:'6px'}},'ğŸ“… Estimated Days'),
                    React.createElement('div',{style:{fontSize:'22px',fontWeight:900,color:'var(--blue)',fontFamily:'DM Mono,monospace',lineHeight:1}},(job.estimatedDays||1)),
                    React.createElement('div',{style:{fontSize:'11px',color:'var(--text3)',marginTop:'3px'}},(job.estimatedDays===1?'day':'days')+' projected')
                  ),

                  // Box 2: Actual assigned days
                  React.createElement('div',{style:{background:'var(--bg3)',border:'1px solid var(--border)',borderRadius:'8px',padding:'12px'}},
                    React.createElement('div',{style:{fontSize:'10px',fontWeight:800,textTransform:'uppercase',letterSpacing:'.5px',color:'var(--text3)',marginBottom:'6px'}},'ğŸ“† Actual Days'),
                    React.createElement('div',{style:{display:'flex',alignItems:'baseline',gap:'8px'}},
                      React.createElement('div',{style:{fontSize:'22px',fontWeight:900,fontFamily:'DM Mono,monospace',lineHeight:1,color:overUnder>0?'var(--red)':overUnder<0?'var(--green)':'var(--text)'}},totalAssigned||'â€”'),
                      totalAssigned>0&&React.createElement('span',{style:{fontSize:'11px',fontWeight:700,color:overUnder>0?'var(--red)':overUnder<0?'var(--green)':'var(--text3)'}},
                        overUnder===0?'on track':overUnder>0?'+'+overUnder+' over':overUnder+' under')
                    ),
                    React.createElement('div',{style:{fontSize:'11px',color:'var(--text3)',marginTop:'3px'}},'days on calendar')
                  ),

                  // Box 3: Stage breakdown
                  React.createElement('div',{style:{background:'var(--bg3)',border:'1px solid var(--border)',borderRadius:'8px',padding:'12px'}},
                    React.createElement('div',{style:{fontSize:'10px',fontWeight:800,textTransform:'uppercase',letterSpacing:'.5px',color:'var(--text3)',marginBottom:'6px'}},'ğŸ· Stages Used'),
                    stageEntries.length===0
                      ?React.createElement('div',{style:{fontSize:'12px',color:'var(--text3)',fontStyle:'italic'}},'No schedule data')
                      :React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:'4px'}},
                          stageEntries.map(([stageName,days])=>{
                            const stg=data.stages.find(s=>s.name===stageName);
                            const sHex=stg?stg.colorHex||stg.color?.text||'#6366f1':'#6366f1';
                            return React.createElement('div',{key:stageName,style:{display:'flex',alignItems:'center',gap:'5px'}},
                              React.createElement('div',{style:{width:'8px',height:'8px',borderRadius:'50%',background:sHex,flexShrink:0}}),
                              React.createElement('span',{style:{fontSize:'11px',flex:1,color:'var(--text)',fontWeight:600}},stageName),
                              React.createElement('span',{style:{fontSize:'11px',fontFamily:'DM Mono,monospace',fontWeight:700,color:sHex}},days+(days===1?' day':' days'))
                            );
                          })
                        )
                  )
                )
              )
            );
          })
        ),
    confirmDel&&React.createElement(Confirm,{
      msg:t('delete')+' '+(confirmDel.name||confirmDel.address)+'?',
      onConfirm:()=>{dispatch({type:'DELETE_JOB',id:confirmDel.id});toast(t('jobDeleted'),'success');setConfirmDel(null);},
      onCancel:()=>setConfirmDel(null)}),
    viewImg?React.createElement('div',{onClick:()=>setViewImg(null),style:{position:'fixed',inset:0,background:'rgba(0,0,0,.75)',zIndex:9999,display:'flex',alignItems:'center',justifyContent:'center',cursor:'zoom-out'}},
      React.createElement('img',{src:viewImg,style:{maxWidth:'90vw',maxHeight:'90vh',borderRadius:'12px',boxShadow:'0 8px 40px rgba(0,0,0,.6)'}})):null
  );
}

// â”€â”€ STAGES PAGE (admin) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function StagesPage({data,dispatch,toast}){
  const [newName,setNewName]=useState('');
  const [newColor,setNewColor]=useState('#e07b1a');
  const [newTasks,setNewTasks]=useState({});
  const [newTaskColors,setNewTaskColors]=useState({});
  const [expandedStage,setExpandedStage]=useState(null);

  const addStage=()=>{
    const n=newName.trim();
    if(!n||data.stages.find(s=>s.name.toLowerCase()===n.toLowerCase()))return;
    const hex=newColor;
    const stageColorObj={bg:hex+'22',text:hex,border:hex+'55'};
    dispatch({type:'ADD_STAGE',stage:{id:genId(),name:n,color:stageColorObj,colorHex:hex,tasks:[]}});
    toast(t('addStage'),'success');setNewName('');
  };

  const updateStageColor=(stageId,hex)=>{
    const stageColorObj={bg:hex+'22',text:hex,border:hex+'55'};
    dispatch({type:'UPDATE_STAGE',id:stageId,data:{color:stageColorObj,colorHex:hex}});
  };

  const addTaskToStage=(stageId)=>{
    const txt=(newTasks[stageId]||'').trim();
    if(!txt)return;
    const color=newTaskColors[stageId]||'#6366f1';
    dispatch({type:'ADD_STAGE_TASK',stageId,text:txt,color});
    setNewTasks(p=>({...p,[stageId]:''}));
  };

  return React.createElement('div',{className:'page'},
    React.createElement('div',{className:'page-header'},
      React.createElement('div',{className:'page-title'},t('stagesAndTasks'))
    ),
    React.createElement('p',{style:{fontSize:'13px',color:'var(--text2)',marginBottom:'18px',lineHeight:'1.6'}},t('stagesHint')),
    React.createElement('div',{style:{display:'flex',flexDirection:'column',gap:'10px',marginBottom:'24px'}},
      data.stages.map(stage=>{
        const isOpen=expandedStage===stage.id;
        const tasks=stage.tasks||[];
        const hex=stage.colorHex||stage.color.text||'#475569';
        return React.createElement('div',{key:stage.id,className:'card',style:{padding:'0',overflow:'hidden'}},
          React.createElement('div',{
            style:{display:'flex',alignItems:'center',gap:'10px',padding:'12px 16px',cursor:'pointer',background:hex+'15',borderLeft:'5px solid '+hex},
            onClick:()=>setExpandedStage(isOpen?null:stage.id)
          },
            React.createElement('div',{style:{width:'14px',height:'14px',borderRadius:'50%',background:hex,flexShrink:0}}),
            React.createElement('span',{style:{fontWeight:700,fontSize:'14px',color:hex}},stage.name),
            React.createElement('span',{style:{fontSize:'11px',color:'var(--text3)',marginLeft:'4px'}},tasks.length+' task'+(tasks.length===1?'':'s')),
            React.createElement('input',{
              type:'color',value:hex,title:'Change color',
              onClick:e=>e.stopPropagation(),
              onChange:e=>{e.stopPropagation();updateStageColor(stage.id,e.target.value);},
              style:{width:'28px',height:'28px',border:'2px solid '+hex+'44',borderRadius:'50%',cursor:'pointer',padding:'2px',marginLeft:'auto',background:'transparent'}
            }),
            React.createElement('button',{
              className:'btn btn-danger btn-sm',style:{fontSize:'10px',padding:'2px 7px',marginLeft:'4px'},
              onClick:e=>{e.stopPropagation();dispatch({type:'DELETE_STAGE',id:stage.id});toast(t('delete'),'success');}
            },'Ã—')
          ),
          isOpen?React.createElement('div',{style:{padding:'12px 16px',borderTop:'1px solid '+hex+'33',background:'var(--bg2)'}},
            tasks.length===0
              ? React.createElement('p',{style:{fontSize:'12px',color:'var(--text3)',fontStyle:'italic',marginBottom:'8px'}},t('noTasksYet'))
              : tasks.map((task,i)=>{
                  const tc=taskColor(task,'#6366f1');
                  const tt=taskText(task);
                  return React.createElement('div',{key:i,style:{display:'flex',alignItems:'center',gap:'8px',padding:'5px 10px',background:tc+'15',border:'1px solid '+tc+'44',borderRadius:'6px',marginBottom:'4px'}},
                    React.createElement('div',{style:{width:'10px',height:'10px',borderRadius:'50%',background:tc,flexShrink:0}}),
                    React.createElement('span',{style:{flex:1,fontSize:'13px',color:'var(--text)',fontWeight:600}},tt),
                    React.createElement('button',{style:{background:'none',border:'none',color:'var(--text3)',cursor:'pointer',fontSize:'16px',lineHeight:1,padding:0},onClick:()=>dispatch({type:'DEL_STAGE_TASK',stageId:stage.id,idx:i})},'Ã—')
                  );
                }),
            React.createElement('div',{style:{display:'flex',gap:'6px',marginTop:'8px',alignItems:'center'}},
              React.createElement('input',{
                type:'color',
                value:newTaskColors[stage.id]||'#6366f1',
                onChange:e=>setNewTaskColors(p=>({...p,[stage.id]:e.target.value})),
                title:'Task color',
                style:{width:'34px',height:'34px',border:'2px solid var(--border)',borderRadius:'var(--r)',cursor:'pointer',padding:'2px',flexShrink:0}
              }),
              React.createElement('input',{
                style:{flex:1,background:'var(--bg3)',border:'1px solid var(--border)',borderRadius:'6px',padding:'7px 10px',color:'var(--text)',fontFamily:'inherit',fontSize:'13px',outline:'none'},
                value:newTasks[stage.id]||'',
                onChange:e=>setNewTasks(p=>({...p,[stage.id]:e.target.value})),
                onKeyDown:e=>{if(e.key==='Enter')addTaskToStage(stage.id);},
                placeholder:t('taskPlaceholder')
              }),
              React.createElement('button',{className:'btn btn-primary btn-sm',onClick:()=>addTaskToStage(stage.id)},t('addTask'))
            )
          ):null
        );
      })
    ),
    React.createElement('div',{className:'card',style:{padding:'16px'}},
      React.createElement('div',{style:{fontSize:'13px',fontWeight:700,color:'var(--text2)',marginBottom:'12px'}},t('addStage')),
      React.createElement('div',{className:'form-row'},
        React.createElement('div',{className:'form-group'},
          React.createElement('label',{className:'form-label'},t('stageName')),
          React.createElement('input',{className:'form-input',value:newName,onChange:e=>setNewName(e.target.value),onKeyDown:e=>{if(e.key==='Enter')addStage();},placeholder:t('newStagePlaceholder')})
        ),
        React.createElement('div',{className:'form-group'},
          React.createElement('label',{className:'form-label'},'Stage Color'),
          React.createElement('div',{style:{display:'flex',alignItems:'center',gap:'10px',marginTop:'4px'}},
            React.createElement('input',{type:'color',value:newColor,onChange:e=>setNewColor(e.target.value),style:{width:'40px',height:'40px',border:'2px solid var(--border)',borderRadius:'var(--r)',cursor:'pointer',padding:'2px'}}),
            React.createElement('span',{style:{fontSize:'12px',background:newColor+'22',border:'1px solid '+newColor+'55',padding:'4px 10px',borderRadius:'20px',color:newColor,fontWeight:700}},newName||'Preview')
          )
        )
      ),
      React.createElement('button',{className:'btn btn-primary',style:{marginTop:'12px',width:'100%'},onClick:addStage},t('addStage'))
    )
  );
}

// â”€â”€ APP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function App(){
  const [session,setSession]=useState(null);
  const [page,setPage]=useState('schedule');
  const [data,setData]=useState(()=>loadData());
  const [toasts,setToasts]=useState([]);
  const [changePw,setChangePw]=useState(false);
  const [lang,setLang]=useState('en');
  const [syncing,setSyncing]=useState(false); // true = loading screen after login
  const [syncMsg,setSyncMsg]=useState('');    // message shown on loading screen

  // LANG global updated synchronously in toggle buttons, not just via effect
  useEffect(()=>{saveData(data);},[data]);
  const dispatch=useCallback(action=>{setData(d=>{const next=reducer(d,action);saveData(next);return next;});},[]);
  const toast=useCallback((msg,type='success')=>{const id=genId();setToasts(t=>[...t,{id,msg,type}]);setTimeout(()=>setToasts(t=>t.filter(x=>x.id!==id)),3000);},[]);
  const isAdmin=session?session.role==='ADMIN':false;

  // â”€â”€ Handle login: show loading screen, attempt cloud sync, then enter app â”€â”€
  const handleLogin=async(u)=>{
    setSession(u);
    if(!SYNC_SERVER_URL){return;} // no server â€” skip loading screen
    setSyncing(true);
    setSyncMsg('â˜ï¸ Syncing latest schedule...');
    const res=await cloudLoad();
    if(res.ok&&res.data){
      setData(d=>{const next=res.data;saveData(next);return next;});
      setSyncMsg('âœ… Schedule synced!');
    } else {
      setSyncMsg(res.reason==='No data saved yet'?'ğŸ“‹ No cloud data yet â€” using local':'âš ï¸ Could not reach sync server. Using local data.');
    }
    setTimeout(()=>setSyncing(false),1200);
  };

  // â”€â”€ Sync Data handler (navbar button) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // â”€â”€ Sync Data = pull latest from cloud (quiet refresh, no full-screen) â”€â”€â”€â”€â”€â”€
  const [syncBusy,setSyncBusy]=useState(false);
  const [saveBusy,setSaveBusy]=useState(false);

  const handleSync=async()=>{
    if(!SYNC_SERVER_URL){toast('âš ï¸ No sync server configured yet','error');return;}
    setSyncBusy(true);
    const res=await cloudLoad();
    setSyncBusy(false);
    if(res.ok&&res.data){
      setData(()=>{saveData(res.data);return res.data;});
      toast('ğŸ”„ Schedule refreshed from cloud!','success');
    } else {
      toast('âš ï¸ Refresh failed: '+(res.reason||'unknown'),'error');
    }
  };

  // â”€â”€ Save Changes = push current data up to cloud â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const handleCloudSave=async()=>{
    if(!SYNC_SERVER_URL){toast('âš ï¸ No sync server configured yet','error');return;}
    setSaveBusy(true);
    const res=await cloudSave(data);
    setSaveBusy(false);
    if(res.ok) toast('â˜ï¸ Changes saved to cloud!','success');
    else toast('âš ï¸ Save failed: '+(res.reason||'unknown'),'error');
  };

  // â”€â”€ Show login page â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 
  if(!session) return React.createElement(LoginPage,{users:data.users,lang,setLang,onLogin:handleLogin,onResetPw:(userId,pw)=>{dispatch({type:'UPDATE_USER',id:userId,data:{password:pw}});toast(t('passwordUpdated'),'success');}});

  // â”€â”€ Loading / Sync screen (shown briefly after login if server configured) â”€
  if(syncing) return React.createElement('div',{style:{
    position:'fixed',inset:0,background:'linear-gradient(135deg,#1e1b4b 0%,#312e81 50%,#1e40af 100%)',
    display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',
    gap:'20px',zIndex:99999
  }},
    React.createElement('div',{style:{
      width:'64px',height:'64px',border:'5px solid rgba(255,255,255,0.2)',
      borderTopColor:'#fff',borderRadius:'50%',
      animation:'spin 0.8s linear infinite'
    }}),
    React.createElement('div',{style:{color:'#fff',fontSize:'18px',fontWeight:700,textAlign:'center',letterSpacing:'-.3px'}},syncMsg),
    React.createElement('div',{style:{color:'rgba(255,255,255,0.5)',fontSize:'13px'}},"Anaya's Calendar"),
    React.createElement('style',null,'@keyframes spin{to{transform:rotate(360deg)}}')
  );

  const handleChangePw=form=>{
    if(form.password){dispatch({type:'UPDATE_USER',id:session.id,data:{password:form.password}});toast(t('passwordUpdatedShort'),'success');}
    setChangePw(false);
  };

  let pageContent;
  if(page==='schedule') pageContent=React.createElement(SchedulerPage,{data,isAdmin,dispatch,toast,lang});
  else if(page==='jobs') pageContent=React.createElement('div',{className:'main'},React.createElement(JobsPage,{data,isAdmin,dispatch,toast}));
  else if(page==='contracted'&&isAdmin) pageContent=React.createElement('div',{className:'main'},React.createElement(ContractedPage,{data,isAdmin,dispatch,toast}));
  else if(page==='completed'&&isAdmin) pageContent=React.createElement('div',{className:'main'},React.createElement(CompletedPage,{data,isAdmin,dispatch,toast}));
  else if(page==='workers'&&isAdmin) pageContent=React.createElement('div',{className:'main'},React.createElement(WorkersPage,{data,isAdmin,dispatch,toast}));
  else if(page==='stages'&&isAdmin) pageContent=React.createElement('div',{className:'main'},React.createElement(StagesPage,{data,dispatch,toast}));

  return React.createElement('div',{className:'app'},
    React.createElement('nav',{className:'navbar'},
      React.createElement('div',{className:'nav-logo'},
        React.createElement('img',{src:'data:image/jpeg;base64,'+LOGO_B64,className:'nav-logo-img',alt:"Anaya's",style:{background:'none',padding:0}}),
        React.createElement('span',{className:'nav-logo-brand'},"Anaya's"),
        React.createElement('span',{className:'nav-logo-sub'},t('schedule'))),
      React.createElement('div',{className:'nav-links'},
        React.createElement('button',{className:'nav-link'+(page==='schedule'?' active':''),onClick:()=>setPage('schedule')},'ğŸ“… '+t('schedule')),
        React.createElement('button',{className:'nav-link'+(page==='jobs'?' active':''),onClick:()=>setPage('jobs')},'ğŸ  '+t('jobs')),
        isAdmin?React.createElement('button',{className:'nav-link'+(page==='contracted'?' active':''),onClick:()=>setPage('contracted')},'ğŸ“‹ '+t('contracted')):null,
        isAdmin?React.createElement('button',{className:'nav-link'+(page==='completed'?' active':''),onClick:()=>setPage('completed')},'âœ… '+t('completed')):null,
        isAdmin?React.createElement('button',{className:'nav-link'+(page==='stages'?' active':''),onClick:()=>setPage('stages')},'ğŸ· '+t('stages')):null,
        isAdmin?React.createElement('button',{className:'nav-link'+(page==='workers'?' active':''),onClick:()=>setPage('workers')},'ğŸ‘· '+t('workers')):null
      ),
      React.createElement('div',{className:'nav-user'},
        (()=>{
          // Show employee color dot if worker has a color set
          const sessionWorker=isAdmin?null:data.workers.find(w=>w.id===session.workerId);
          const wColor=sessionWorker&&sessionWorker.color?sessionWorker.color:null;
          return wColor?React.createElement('div',{style:{
            width:'28px',height:'28px',borderRadius:'50%',
            background:wColor,border:'3px solid rgba(255,255,255,0.7)',
            flexShrink:0,boxShadow:'0 0 0 2px '+wColor
          }}):null;
        })(),
        React.createElement('span',{className:'nav-name'},session.name),
        React.createElement('span',{className:'nav-role-badge '+session.role.toLowerCase()},session.role),
        // â”€â”€ Sync Data (refresh from cloud) + Save Changes (push to cloud) â”€â”€
        React.createElement('button',{
          className:'nav-btn',
          style:{background:'rgba(255,255,255,0.12)',border:'1px solid rgba(255,255,255,0.25)',fontWeight:700,fontSize:'11px',opacity:syncBusy?0.6:1,minWidth:'80px'},
          onClick:handleSync,
          disabled:syncBusy,
          title:'Pull the latest schedule from cloud'
        },syncBusy?'ğŸ”„ ..':'ğŸ”„ Sync Data'),
        isAdmin?React.createElement('button',{
          className:'nav-btn',
          style:{background:saveBusy?'rgba(255,255,255,0.1)':'rgba(34,197,94,0.25)',border:'1px solid rgba(34,197,94,0.5)',color:'#86efac',fontWeight:700,fontSize:'11px',opacity:saveBusy?0.6:1,minWidth:'100px'},
          onClick:handleCloudSave,
          disabled:saveBusy,
          title:'Save your changes to cloud so everyone sees them'
        },saveBusy?'â˜ï¸ Saving..':'â˜ï¸ Save Changes'):null,
        !isAdmin?React.createElement('button',{className:'nav-btn',style:{fontSize:'11px'},onClick:()=>setChangePw(true)},'ğŸ”‘ '+t('changePassword')):null,
        React.createElement('button',{className:'nav-btn',onClick:async()=>{
  if(SYNC_SERVER_URL&&isAdmin){
    const go=window.confirm('â˜ï¸ Save changes to cloud before signing out?\n\nClick OK to save, Cancel to sign out without saving.');
    if(go){
      const res=await cloudSave(data);
      if(res.ok) toast('â˜ï¸ Saved to cloud!','success');
      else toast('âš ï¸ Save failed: '+res.reason,'error');
    }
  } else if(!SYNC_SERVER_URL&&isAdmin){
    window.confirm('â„¹ï¸ Cloud sync is not configured.\nYour changes are saved locally on this device only.');
  }
  setSession(null);
}},t('signOut'))
      )
    ),
    pageContent,
    React.createElement(Toasts,{toasts}),
    // Fixed language toggle button - bottom left
    React.createElement('button',{
      className:'lang-float-btn',
      onClick:()=>setLang(l=>{const next=l==='en'?'es':'en';LANG=next;return next;}),
      title:'Switch language / Cambiar idioma'
    },lang==='en'?'ğŸ‡²ğŸ‡½ ES':'ğŸ‡ºğŸ‡¸ EN'),
    changePw?React.createElement(WorkerForm,{selfEdit:true,worker:data.workers.find(w=>w.id===session.workerId),workerUser:session,onSave:handleChangePw,onClose:()=>setChangePw(false)}):null
  );
}

// â”€â”€ LOGIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function LoginPage({users,onLogin,onResetPw,lang,setLang}){
  const [username,setUsername]=useState('');
  const [pw,setPw]=useState('');
  const [err,setErr]=useState('');
  const [resetDone,setResetDone]=useState(false);

  const submit=()=>{
    // Check hardcoded admins first
    const ha=HARDCODED_ADMINS.find(a=>(a.username||'').toLowerCase()===username.toLowerCase()&&a.password===pw);
    if(ha){
      // Merge with stored user to get security question etc
      const storedVersion=users.find(u=>u.id===ha.id)||ha;
      onLogin({...ha,...storedVersion,role:'ADMIN'});return;
    }
    // Check stored users (username match)
    const u=users.find(u=>(u.username||'').toLowerCase()===username.toLowerCase()&&u.password===pw);
    if(!u){setErr(t('invalidUsernameOrPw'));return;}
    onLogin(u);
  };
  const hk=e=>{if(e.key==='Enter')submit();};



  return React.createElement('div',{className:'login-wrap'},
    React.createElement('div',{className:'login-box'},
      React.createElement('div',{className:'login-logo-wrap'},
        React.createElement('img',{src:'data:image/jpeg;base64,'+LOGO_B64,className:'login-logo-img',alt:'Logo',style:{background:'none',padding:0}})),
      /* Anaya's logo image */
      React.createElement('div',{style:{display:'flex',justifyContent:'center',marginBottom:'8px'}},
        React.createElement('img',{src:'data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQEAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADb/2wBDAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwXExQaFRERGCEYGh0dHx8fExciJCIeJBweHx7/2wBDAQUFBQcGBw4ICA4eFBEUHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh7/wAARCAHrA6gDASIAAhEBAxEB/8QAHQABAAEFAQEBAAAAAAAAAAAAAAgBBQYHCQQDAv/EAFQQAAICAQMCBAEFCQsKAwgDAQABAgMEBQYRByEIEjFBURMiMmFxCRQVI3JzgZGxFjM1NjdCUlWTodEXJDRUYmOCkrLBJUVWGCYnQ1N0g+FERvCi/8QAGwEBAAIDAQEAAAAAAAAAAAAAAAUGAQMEAgf/xAAzEQEAAgIBAgQDBgYDAQEAAAAAAQIDBBEFMRITIUEUNHEGIjIzUVIVQmGBkbEjJKEWQ//aAAwDAQACEQMRAD8AmWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADkAD8yshH6UlH7WU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',alt:"Anaya's",style:{height:'64px',width:'auto',objectFit:'contain'}})
      ),
      /* lang button now shown as fixed floating button below */
      React.createElement('div',null,
            React.createElement('p',{className:'login-sub',style:{marginBottom:'20px'}},t('teamScheduling')),
            err&&React.createElement('div',{className:'login-error'},err),
            React.createElement('label',{className:'login-label'},t('username')),
            React.createElement('input',{className:'login-input',type:'text',value:username,onChange:e=>setUsername(e.target.value),onKeyDown:hk,placeholder:t('username'),autoFocus:true}),
            React.createElement('label',{className:'login-label'},t('password')),
            React.createElement('input',{className:'login-input',type:'password',value:pw,onChange:e=>setPw(e.target.value),onKeyDown:hk,placeholder:'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢'}),
            React.createElement('button',{className:'login-btn',onClick:submit},t('signIn')))
    ),
    React.createElement('div',{className:'login-version'},APP_VERSION),
    React.createElement('button',{
      className:'lang-float-btn',
      onClick:()=>setLang(l=>{const next=l==='en'?'es':'en';LANG=next;return next;})
    },lang==='en'?'ğŸ‡²ğŸ‡½ ES':'ğŸ‡ºğŸ‡¸ EN')
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App));
</script>
</body>
</html>
